---
publish: false
draft: true
title: Obsidian Vault 유출 방지 체크리스트
description: 플러그인 설정과 API 키를 안전하게 지키는 필수 점검
author: Nine
date: 2025-12-30 14:08:23
categories:
tags:
  - devlog
  - note-template
# image: Status: ToDo
---
## 📌개요

devlog를 작성하게 된 계기와 현재 포스팅에서 다룰 내용을 간략히 소개한다.

## 📌내용

전반적인 내용을 작성한다.
문제, 제약, 해결, 유사 기술과의 비교, 한계 등을 정리한다.
관련된 재미있는 일화가 있다면 함께 작성하여 기억에 오래 남는 글을 작성한다.

## 🎯결론

현재 포스팅을 요약할 수 있는 강렬한 한 문장.
필요 시 요악된 정보를 더 작성한다.

## ⚙️EndNote

### 사전 지식

이 포스팅을 이해하기 위해 필요한 사전 지식을 나열한다.

### 더 알아보기

이 포스팅을 계기로 심화된 내용을 학습할 수 있게 키워드와 공식 문서, 웹사이트를 나열한다.


---


제안 주제

- Obsidian 플러그인 사용 시 API 키·민감 정보 노출 위험과 안전한 동기화 워크플로우

카테고리 (블로그 분류)

- 1레벨: VersionControl
- 2레벨(신규 제안): Git / Vault 보안 또는 Git-Secrets
- 이유: 글의 핵심은 Vault를 Git(특히 private repo)으로 관리할 때의 노출 위험과 대응이므로 VersionControl을 1레벨로 두는 것이 독자들이 기대하는 위치와 맞습니다. 2레벨은 “Vault 보안” 또는 “Git-Secrets”처럼 구체적으로 만드세요.
- 권장 태그: #Obsidian #Vault #Git #Secrets #API키 #보안 

대상 독자

- Obsidian 사용자(개인 연구자·작가·개발자)
- Vault를 Git(특히 private GitHub)로 관리하는 사용자
- 개인 데이터 보안을 신경 쓰는 사람

톤 및 길이 추천

- 톤: 실용적·실무 중심, 친절한 단계별 안내
- 권장 길이: 1,200–2,000 단어 (기본 가이드) — 필요하면 스텝별 명령어/스크린샷 포함해 3,000단어 심화판

메타 설명(SEO용, 150자 내외)

- Obsidian Vault를 Git으로 동기화할 때 플러그인에 저장된 API 키가 원격에 유출되는 것을 방지하는 실전 체크리스트와 복구·예방 방법을 Smart Connections 사례로 정리합니다.

목차 (권장 구조 및 섹션별 핵심 포인트 + 권장 분량)

1. 도입: 왜 이 글을 읽어야 하나? (약 100–150자)
    
    - 문제 제기: 플러그인 설정에 API 키가 남아 Vault 동기화 시 유출될 수 있음
    - 사례 언급: Smart Connections 같은 Obsidian AI 플러그인(로컬 + API 키 기반 통합)
2. 플러그인 설정은 어디에 저장되나? (200–300자)
    
    - Obsidian 플러그인 설정 저장 위치(예: <vault>/.obsidian/plugins/<plugin-id>/data.json 등)
    - 플러그인마다 파일 이름/구조가 다름을 설명
    - 예시: README·코드에서 API 키를 설정으로 받는 흔한 문구
3. 어떤 상황에서 키가 유출되나? (200–300자)
    
    - Vault 전체를 Git으로 커밋/푸시할 때
    - Obsidian Sync나 Dropbox 등 클라우드 동기화에서
    - 배포된 플러그인 빌드에 하드코딩된 키(빌드 환경변수 실수)
    - 로컬 백업/이메일 공유 등 휴먼 실수
4. 책임 범위 — 서비스 제공자와 사용자가 각각 조심해야 할 것들
5. 즉시 점검(빠른 체크리스트) — 지금 당장 확인할 것들 (실행 가능한 명령 포함) (300–400자)
    
    - 파일 검색(예: grep)로 키/패턴 찾기
    - 플러그인 폴더·data.json 확인
    - Git 추적 여부 확인(git ls-files 등)
    - 권장 명령 예시(한두 줄로 제공)
        - grep -R --line-number -I -n "API_KEY|OPENAI|anthropic" .
        - git ls-files | grep -E '.obsidian|smart-connections|.smart-env'
    - 권장 분량: 스텝별 1~2개 명령어 예시 포함
6. 유출 확인 시 즉시 대응(핵심: 키 회전) (300–400자)
    
    - 1단계: 해당 API 키 즉시 폐기(회전) — 공급자 대시보드 설명
    - 2단계: 원격 리포지토리에서 파일 제거(간단 방법)
        - git rm --cached <path>; .gitignore 업데이트; 커밋/푸시
    - 3단계: 히스토리 완전 제거(권장): git filter-repo 또는 BFG 사용 요약(절차·주의)
    - 협업자 통지와 강제 클론 안내
7. 예방 전략(기본 → 고급) (가이드형, 400–600자)
    
    - 기본(가장 쉬운 방법)
        - .gitignore로 플러그인 설정/데이터 제외
        - Vault에서 .obsidian 폴더는 원칙적으로 커밋하지 않기
    - 권장(중간 수준)
        - 각 기기에서만 키를 입력, OS 키체인 사용(가능 시)
        - pre-commit 훅으로 시크릿 스캐너(detect-secrets/git-secrets) 설정
    - 고급(팀/조직)
        - git-crypt / SOPS / age로 민감 파일 암호화해 동기화
        - 로컬 프록시 또는 중앙 비밀관리자로 키 보관(단, 신뢰 문제 고려)
    - 로컬 모델 우선권장: Smart Connections처럼 로컬 임베딩을 쓰면 노출 위험 제거
8. 안전한 동기화 워크플로우 제안(사례 중심) (300–400자)
    
    - 방법 A: 플러그인 목록만 동기화(plugins.json + 자동 설치 스크립트)
    - 방법 B: 플러그인 코드 동기화하지만 설정은 제외(.gitignore + 예외 패턴)
    - 방법 C: 암호화된 설정 파일 동기화(git-crypt / SOPS)
    - 실전 팁: 각 기기별 별도 키 발급, 키 사용 범위 최소화
9. 실전 가이드: 커맨드 라인으로 점검·정리하기 (실행 예시와 주의사항) (코드 블록 포함, 300–500자)
    
    - 민감 파일 찾기(grep)
    - 민감 파일 제거 및 .gitignore 추가 예시(명령어)
    - git filter-repo / BFG 기본 사용 플로우(개요)
    - 회전 후 확인(공급자 대시보드 모니터링)
10. FAQ (간단 문답, 3–6개 Q/A, 200–300자)
    
    - Q: private repo면 괜찮나? A: 아니요 — 접근 권한자/백업/히스토리 문제
    - Q: Obsidian Sync는 안전한가? A: 파일 단위 동기화이므로 민감 파일은 제외해야 함
    - Q: 로컬 모델만 쓰면 완전 안전한가? A: 네트워크 기반 노출은 줄지만 로컬 백업 동기화는 여전히 주의
11. 결론 및 행동 권장(CTA) (100–150자)
    
    - 핵심 요약(즉시 점검·회전·예방)
    - 독자에게 권하는 첫 액션(예: 지금 grep으로 vault 점검)
    - 추가 자료/템플릿 링크 안내(예: .gitignore 템플릿, pre-commit 설정, Smart Connections repo)

부록(옵션)

- .gitignore 템플릿(예시)
- pre-commit hooks(예: detect-secrets) 설정 예시
- git filter-repo / BFG 참고 링크 및 안전 체크리스트
- 샘플 plugins.json과 자동 설치 스크립트 골격

섹션별 콘텐츠 포인트(간단 체크리스트)

- 문제 인식: 사례(플러그인·API 키)로 주의를 환기
- 실무 가이드: 명령어·단계·스크립트로 따라하기 쉽게
- 예방책: 쉬운 것부터 도입(.gitignore → pre-commit → 암호화)
- 복구 플랜: 회전·히스토리 정리·협업자 통보

이미지·미디어 추천

- 스크린샷: .obsidian/plugins 폴더와 data.json 내용(노출 예시, 민감정보 모자이크 처리)
- 플로우 다이어그램: Vault → Git → Remote(유출 경로) 및 대응 흐름
- 코드 블록: grep/git 명령, .gitignore 템플릿, git filter-repo 예시

마지막으로 — 글 작성 시 권장 스타일

- 독자가 바로 따라할 수 있도록 “핵심 명령”은 눈에 띄게 블록으로 제시
- 위험도(긴급도)에 따라 우선순위(예: 지금 당장 할 것 / 1주 내에 할 것 / 장기적으로 할 것)를 표시
- 협업 시 히스토리 재작성(강제 푸시)은 팀 공지와 절차 조율 필요하다는 점을 강조

