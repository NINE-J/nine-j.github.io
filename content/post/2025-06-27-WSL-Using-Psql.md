---
publish: true
draft: false
title: WSLì—ì„œ PSQL ì‚¬ìš©í•˜ê¸°
description: Windows PostgreSQL ì„œë²„ì™€ì˜ ì—°ê²° ì„¤ì •
author: Nine
date: 2025-06-27 10:11:44
categories:
  - WSL
tags:
  - devlog
  - PostgreSQL
  - psql
  - ìœˆë„ìš°ì„œë²„ì—°ê²°
  - ë°ì´í„°ë² ì´ìŠ¤
  - ê°œë°œí™˜ê²½
  - ë¦¬ëˆ…ìŠ¤ì„¤ì •
# image: Status: Done
---
## ğŸ“Œê°œìš”

ë°±ì—”ë“œ ê°œë°œì„ ì§„í–‰í•˜ë‹¤ ë³´ë©´ WSLì—ì„œ `psql`ì„ ì‚¬ìš©í•´ Windowsì— ì„¤ì¹˜ëœ PostgreSQLì— ì ‘ì†í•˜ê³  ì‹¶ì€ ìƒí™©ì´ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë‹¨ìˆœí•œ í´ë¼ì´ì–¸íŠ¸ ì„¤ì¹˜ë§Œìœ¼ë¡œëŠ” ì ‘ì†ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ë°©í™”ë²½, ì ‘ì† í—ˆìš© ì„¤ì •, í¬íŠ¸ ê°œë°© ë“± ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ìš”ì†Œë¥¼ ê³ ë ¤í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

WSLì—ì„œ PostgreSQL ì ‘ì† ë°©ë²•ì„ ì•Œì•„ë³´ì.

## ğŸ“Œë‚´ìš©

### PostgreSQL í´ë¼ì´ì–¸íŠ¸ ì„¤ì¹˜

Windowsì— êµ¬ì„±ëœ PostgreSQLì— ì ‘ì†í•˜ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.

```bash
sudo apt update
sudo apt install postgresql-client
```

>[!TIP]
>`apt-get`ì€ ë” ì˜¤ë˜ëœ ì „í†µì ì¸ CLI íˆ´
>- ìŠ¤í¬ë¦½íŠ¸ë‚˜ ìë™í™”ì— ì£¼ë¡œ ì‚¬ìš©
>
>`apt`ëŠ” `apt-get`ê³¼ `apt-cache`ì˜ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ í•©ì³ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ë§Œë“  í†µí•© ëª…ë ¹ì–´
>- 2014ë…„ ì¦ˆìŒë¶€í„° Debian/Ubuntuì— í¬í•¨ë˜ì—ˆê³  Ubuntu 16.04ë¶€í„° ê¸°ë³¸ìœ¼ë¡œ ê¶Œì¥
>- ê¹”ë”í•œ ì¶œë ¥ê³¼ ì‹¬í”Œí•œ ì˜µì…˜ ì œê³µ
>
>ì¼ìƒì ì¸ ì‚¬ìš©ì— `apt`ê°€ ê¶Œì¥ë˜ë©° ìŠ¤í¬ë¦½íŠ¸ ìë™í™”, í•˜ìœ„ í˜¸í™˜ì— `apt-get`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### Windows IP í™•ì¸

PostgreSQL ì„œë²„ê°€ ì„¤ì¹˜ëœ Windows ìª½ IPë¥¼ ì•Œì•„ì•¼ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.
ì´ë•Œ `ifconfig`ì´ ì•„ë‹ˆë¼ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ ì •í™•í•˜ë‹¤.

```bash
ip route | grep default
# ì˜ˆì‹œ ê²°ê³¼
default via 172.27.208.1 dev eth0
```

`172.27.208.1`ì´ **WSLì—ì„œ Windowsë¥¼ ë°”ë¼ë³´ëŠ” IP (ê²Œì´íŠ¸ì›¨ì´ IP)** ì´ë¯€ë¡œ ì´ ì£¼ì†Œë¥¼ ì ‘ì† ëŒ€ìƒ IPë¡œ ì‚¬ìš©í•œë‹¤.


### Windows PostgreSQL ì„œë²„ ì„¤ì • ë³€ê²½

#### postgresql.conf

Windowsì— ì„¤ì¹˜ëœ PostgreSQL ì„¤ì • ë””ë ‰í† ë¦¬ì—ì„œ ì•„ë˜ ì„¤ì •ì„ ì°¾ì•„ ìˆ˜ì •í•œë‹¤.

ë³´í†µì€ ê¸°ë³¸ ì„¤ì¹˜ ê²½ë¡œì— ìˆë‹¤. `C:\Program Files\PostgreSQL\{version}\data`

```bash
listen_addresses = '*'
# ë˜ëŠ” ì›í•˜ëŠ” IPë§Œ
listen_addresses = 'localhost,172.27.208.1'
```

>[!TIP]
>`*` ì™€ì¼ë“œ ì¹´ë“œë¡œ ì „ì²´ë¥¼ ì—¬ëŠ” ê²ƒë³´ë‹¤ íŠ¹ì • IPì—ì„œ ë“¤ì–´ì˜¤ëŠ” ê²ƒë§Œ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì´ ë³´ì•ˆìƒ ì•ˆì „í•˜ë‹¤.

#### pg_hba.conf

í•´ë‹¹ ëŒ€ì—­(WSL ë‚´ë¶€ IP í¬í•¨)ì„ ëª…ì‹œì ìœ¼ë¡œ í—ˆìš©í•´ì•¼ ì ‘ì† ê°€ëŠ¥í•˜ë‹¤.

```bash
host    all    all    172.27.208.1    md5
```

ìˆ˜ì • í›„ì—ëŠ” ë°˜ë“œì‹œ PostgreSQL ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•´ì•¼ ì„¤ì •ì´ ë°˜ì˜ëœë‹¤.

Windowsì˜ `services.msc`ì—ì„œ PostgreSQLì„ ë‹¤ì‹œ ì‹œì‘í•˜ê±°ë‚˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ ì¬ì‹œì‘í•œë‹¤.

### Windows ë°©í™”ë²½ì—ì„œ í¬íŠ¸ ì—´ê¸°

WSLì€ Windowsì˜ ì…ì¥ì—ì„  ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ë¡œ ê°„ì£¼ëœë‹¤.
ê¸°ë³¸ì ìœ¼ë¡œ TCP 5432 í¬íŠ¸ëŠ” ì°¨ë‹¨ë˜ì–´ ìˆë‹¤.

ë”°ë¼ì„œ ëª…ì‹œì ìœ¼ë¡œ ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.
ê¸°ë³¸ì ì¸ ì„¤ì •ìœ¼ë¡œ ê°€ì •í•˜ê³  ì •ë¦¬í•œë‹¤.

ì„¤ì • ê²½ë¡œ:
- Windowsì˜ ì‹¤í–‰ > `wf.msc` (Windows Defender ë°©í™”ë²½ ê³ ê¸‰ ë³´ì•ˆ)
    - ë˜ëŠ” ì œì–´íŒì—ì„œ ë°©í™”ë²½ > ê³ ê¸‰ ì„¤ì •
- ì¸ë°”ìš´ë“œ ê·œì¹™ì—ì„œ ìƒˆ ê·œì¹™ ì¶”ê°€
    - ìœ í˜•: í¬íŠ¸
    - í”„ë¡œí† ì½œ: TCP
    - í¬íŠ¸: 5432
    - ì‘ì—…: ì—°ê²° í—ˆìš©
    - í”„ë¡œí•„: ë„ë©”ì¸/ê°œì¸/ê³µìš© ëª¨ë‘ ì„ íƒ
    - ì´ë¦„: Allow PostgreSQL 5432 for WSL

### ì—°ê²° í…ŒìŠ¤íŠ¸

WSL í„°ë¯¸ë„ì—ì„œ ëª…ë ¹ ì‹¤í–‰ í™•ì¸

```bash
nc -zv 172.27.208.1 5432
# í¬íŠ¸ ì •ìƒì ìœ¼ë¡œ ë¶™ê²Œ ë˜ë©´
Connection to 172.27.208.1 5432 port [tcp/postgresql] succeeded!
```

ê·¸ ë‹¤ìŒ ì‹¤ì œ ì ‘ì†

```bash
# í˜¸ìŠ¤íŠ¸, ìœ ì €, DB
psql -h 172.27.208.1 -U postgres -d postgres
```

## ğŸ¯ê²°ë¡ 

>WSLì€ ë¡œì»¬ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ì ìœ¼ë¡œëŠ” ë³„ê°œì˜ ì¥ì¹˜ë¡œ ì·¨ê¸‰ëœë‹¤.

ë‹¨ìˆœíˆ PostgreSQLì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì ‘ì†ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
`listen_addresses`, `pg_hba.conf`, ë°©í™”ë²½ ì¸ë°”ìš´ë“œ ì„¤ì •ê¹Œì§€ ëª¨ë‘ ê°–ì¶°ì ¸ì•¼ ì œëŒ€ë¡œ ë™ì‘í•œë‹¤.

## âš™ï¸EndNote

### ì‚¬ì „ ì§€ì‹

- WSL ê¸°ë³¸ ê°œë…
- PostgreSQL ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°
- Windows ë°©í™”ë²½ ì„¤ì •

### ë” ì•Œì•„ë³´ê¸°

- [WSL ê³µì‹ ë¬¸ì„œ](https://learn.microsoft.com/en-us/windows/wsl/)
- [PostgreSQL ê³µì‹ ë¬¸ì„œ](https://www.postgresql.org/docs/)
- [`listen_addresses` ì„¤ëª…](https://www.postgresql.org/docs/current/runtime-config-connection.html)
- [`pg_hba.conf` ì¸ì¦ ê°€ì´ë“œ](https://www.postgresql.org/docs/current/auth-pg-hba-conf.html)