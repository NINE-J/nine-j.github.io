<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Backend on B9F1</title><link>https://blog.b9f1.com/categories/backend/</link><description>Recent content in Backend on B9F1</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 04 Jan 2026 14:54:18 +0900</lastBuildDate><atom:link href="https://blog.b9f1.com/categories/backend/index.xml" rel="self" type="application/rss+xml"/><item><title>ë‹¹ì‹ ì€ 5ë…„ ì°¨ì¸ê°€ìš”, 1ë…„ ì°¨ 5ë²ˆì¸ê°€ìš”?</title><link>https://blog.b9f1.com/p/2026-01-04-my-5-years-of-java-experience-collapsed-in-a-60-minute-interview/</link><pubDate>Sun, 04 Jan 2026 14:54:18 +0900</pubDate><guid>https://blog.b9f1.com/p/2026-01-04-my-5-years-of-java-experience-collapsed-in-a-60-minute-interview/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;ë©”ì¼í•¨ì—ì„œ Medium Daily Digestë¥¼ í™•ì¸í•˜ë‹¤ê°€ ë°œëª©ì´ ì¡í˜”ë‹¤.
ê³µê°í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ì´ê³  ìì‹ ì˜ íƒœë„ì— ëŒ€í•´ ê³ ë¯¼í•´ ë³¼ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê¸€ì´ë¼ê³  ìƒê°í•œë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ ê¸€ì—ì„œ &amp;lsquo;ìš°ë¦¬&amp;rsquo;, &amp;lsquo;ìì‹ &amp;rsquo;ì´ë¼ëŠ” í‚¤ì›Œë“œê°€ ìì£¼ ë“±ì¥í•  í…ë° ë§Œì•½ ë³¸ì¸ì€ í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ìƒê°í•œë‹¤ë©´ ë¹ ë¥´ê²Œ ë’¤ë¡œ ê°€ê¸°, íƒ­ ë‹«ê¸°ë¥¼ í†µí•´ ì‹œê°„ì„ ì•„ë¼ê¸¸ ë°”ë€ë‹¤.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;ë‚˜ì˜ 5ë…„ ìë°” ê²½ë ¥ì´ 60ë¶„ ë©´ì ‘ ë§Œì— ë¬´ë„ˆì¡Œë‹¤ - My 5 Years of Java Experience Collapsed in a 60-Minute Interview&amp;quot;ëŠ” ìê·¹ì ì¸ ì œëª©ë³´ë‹¤ ë” ì¶©ê²©ì ì´ì—ˆë˜ ê±´, ê·¸ ì•ˆì˜ ì§ˆë¬¸ë“¤ì— ì„ ëœ» ë‹µí•˜ì§€ ëª»í•˜ëŠ” ë‚˜ì˜ ëª¨ìŠµì´ì—ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ìš°ë¦¬ëŠ” ëª¨ë‘ê°€ ìì‹ ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë°”ì˜ê²Œ ìƒì‚°ì ì¸ ì¼ì„ í•œë‹¤. ë§¤ì¼ ìŠ¤í”„ë¦°íŠ¸ë¥¼ ì³ë‚´ê³ , ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ë‹¤ ì“°ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•œë‹¤. í•˜ì§€ë§Œ &amp;lsquo;ì–´ë–»ê²Œ(How)&amp;rsquo; ëŒì•„ê°€ê²Œ ë§Œë“œëŠ” ê²ƒì— ìµìˆ™í•´ì§„ ë‚˜ë¨¸ì§€, &amp;lsquo;ì™œ(Why)&amp;rsquo; ê·¸ë ‡ê²Œ ì„¤ê³„ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” ì¶”ìƒí™”ë¼ëŠ” ì¥ë§‰ ë’¤ë¡œ ìˆ¨ê²¨ë‘ê³¤ í•œë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ í¬ìŠ¤íŒ…ì€ ì›ì‘ìê°€ ê²ªì€ ë¼ˆì•„í”ˆ ë©´ì ‘ ê¸°ë¡ì„ í†µí•´, ìš°ë¦¬ê°€ ë†“ì¹˜ê³  ìˆì—ˆë˜ &amp;lsquo;ë°±ì—”ë“œ ê°œë°œìì˜ ê¸°ìˆ ì  ê¹Šì´&amp;rsquo;ë€ ë¬´ì—‡ì¸ì§€, ê·¸ë¦¬ê³  &amp;lsquo;ì—°ì°¨&amp;rsquo;ë¥¼ &amp;lsquo;ì‹¤ë ¥&amp;rsquo;ìœ¼ë¡œ ì¹˜í™˜í•˜ê¸° ìœ„í•´ ì–´ë–¤ íƒœë„ê°€ í•„ìš”í•œì§€ ì •ë¦¬í•´ë³¸ë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="ì–´ëŠ-5ë…„-ì°¨-ê°œë°œìì˜-ë¼ˆì•„í”ˆ-ê³ ë°±"&gt;ì–´ëŠ 5ë…„ ì°¨ ê°œë°œìì˜ ë¼ˆì•„í”ˆ ê³ ë°±
&lt;/h3&gt;&lt;p&gt;ì›ë¬¸: &lt;a class="link" href="https://blog.stackademic.com/my-5-years-of-java-experience-collapsed-in-a-60-minute-interview-34d8657eba66" target="_blank" rel="noopener"
&gt;My 5 Years of Java Experience Collapsed in a 60-Minute Interview&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;ê°„ë‹¨í•œ ê²ƒë¶€í„° ì‹œì‘í•˜ì£ .&amp;rdquo; ë©´ì ‘ê´€ì˜ ì´ í•œë§ˆë””ê°€ ë¹„ìˆ˜ê°€ ë˜ì–´ ëŒì•„ì˜¤ê¸°ê¹Œì§€ëŠ” ê·¸ë¦¬ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. 5ë…„ ë™ì•ˆ ìë°”ë¥¼ ë‹¤ë¤„ì™”ê³  ìˆ˜ë§ì€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë°°í¬í–ˆìœ¼ë©° ìš´ì˜ í™˜ê²½ì˜ ë³µì¡í•œ ë²„ê·¸ë“¤ì„ ì¡ì•„ì™”ë˜ í•œ ê°œë°œìì˜ ìì‹ ê°ì€ 60ë¶„ ë§Œì— ì‚°ì‚°ì¡°ê°ì´ ë‚¬ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ìµœê·¼ í•´ì™¸ ê°œë°œ ê´€ë ¨ ê¸€ì—ì„œ ê³µê°ì„ ì–»ê³  ìˆëŠ” My 5 Years of Java Experience Collapsed in a 60-Minute Interviewë¼ëŠ” ê¸€ì˜ ì´ì•¼ê¸°ë‹¤. ì´ ê¸€ì€ ë‹¨ìˆœí•œ ë©´ì ‘ íƒˆë½ ìˆ˜ê¸°ê°€ ì•„ë‹ˆë‹¤. ìš°ë¦¬ê°€ &amp;lsquo;ê²½í—˜&amp;rsquo;ì´ë¼ê³  ë¶€ë¥´ëŠ” ì‹œê°„ì´ ì–¼ë§ˆë‚˜ í—ˆë§í•˜ê²Œ ìŒ“ì—¬ìˆì„ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ìê¸°ë°˜ì„±ì´ì ë™ì‹œì— ìš°ë¦¬ ëª¨ë‘ì—ê²Œ ë˜ì§€ëŠ” ê²½ê³ ì¥ì´ë‹¤.&lt;/p&gt;
&lt;p&gt;ë‚˜ ì—­ì‹œ ì´ ê¸€ì„ ì½ìœ¼ë©° ë¬˜í•œ ì„œëŠ˜í•¨ì„ ëŠê¼ˆë‹¤. &amp;ldquo;ë‚´ê°€ ì € ìë¦¬ì— ìˆì—ˆë‹¤ë©´ ê³¼ì—° ë©´ì ‘ê´€ì˜ ê¼¬ë¦¬ ì§ˆë¬¸ì„ ê²¬ëŒë‚¼ ìˆ˜ ìˆì—ˆì„ê¹Œ?&amp;ldquo;ë¼ëŠ” ì§ˆë¬¸ì— ì„ ëœ» &amp;ldquo;ì˜ˆì“°&amp;quot;ë¼ê³  ë‹µí•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì´ë‹¤. ìš°ë¦¬ëŠ” ê³¼ì—° ê²½ë ¥ì´ë¼ëŠ” ì´ë¦„ ë’¤ì— ìˆ¨ì–´ ì„±ì¥ì„ ë©ˆì¶˜ ê²ƒì€ ì•„ë‹ê¹Œ?&lt;/p&gt;
&lt;h3 id="ì™œ-ìš°ë¦¬ëŠ”-ê²½í—˜ì„-ì‹¤ë ¥ì´ë¼-ì°©ê°í•˜ëŠ”ê°€"&gt;ì™œ ìš°ë¦¬ëŠ” ê²½í—˜ì„ ì‹¤ë ¥ì´ë¼ ì°©ê°í•˜ëŠ”ê°€?
&lt;/h3&gt;&lt;p&gt;ì›ì‘ìëŠ” 5ë…„ì˜ ê²½ë ¥ì„ ê°€ì¡ŒìŒì—ë„ &lt;code&gt;Arrays.asList()&lt;/code&gt;ë¡œ ìƒì„±í•œ ë¦¬ìŠ¤íŠ¸ì— ìš”ì†Œë¥¼ ì¶”ê°€í•  ë•Œ ì™œ ì—ëŸ¬ê°€ ë‚˜ëŠ”ì§€, ì™œ ê³µìœ  ìì›ì— ëŒ€í•œ ë™ì‹œì„± ì´ìŠˆë¥¼ í•´ê²°í•  ë•Œ &lt;code&gt;AtomaticInteger&lt;/code&gt;ê°€ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆëŠ”ì§€ ëª…í™•íˆ ì„¤ëª…í•˜ì§€ ëª»í–ˆë‹¤. ì™œ ì´ëŸ° ì¼ì´ ë²Œì–´ì§ˆê¹Œ?&lt;/p&gt;
&lt;h4 id="1-ìˆ™ë ¨ë„ì™€-ì „ë¬¸ì„±ì˜-ê´´ë¦¬-ì‚¬ìš©ê³¼-ì´í•´ëŠ”-ë‹¤ë¥´ë‹¤"&gt;1. ìˆ™ë ¨ë„ì™€ ì „ë¬¸ì„±ì˜ ê´´ë¦¬: ì‚¬ìš©ê³¼ ì´í•´ëŠ” ë‹¤ë¥´ë‹¤.
&lt;/h4&gt;&lt;p&gt;ìš°ë¦¬ëŠ” ë„êµ¬ì— ìµìˆ™í•´ì§€ëŠ” ê²ƒì„ ì‹¤ë ¥ì´ë¼ ì°©ê°í•˜ê³¤ í•œë‹¤.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ìˆ™ë ¨ë„(How): íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ APIë¥¼ í˜¸ì¶œí•˜ê³  ëŠ˜ ì“°ë˜ íŒ¨í„´ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•˜ëŠ” ëŠ¥ë ¥.&lt;/li&gt;
&lt;li&gt;ì „ë¬¸ì„±(Why): ê·¸ ë„êµ¬ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–»ê²Œ ë™ì‘í•˜ë©°, ì™œ ë‹¤ë¥¸ ëŒ€ì•ˆì´ ì•„ë‹Œ ì´ ê¸°ìˆ ì„ ì„ íƒí–ˆëŠ”ì§€ ë…¼ë¦¬ì ìœ¼ë¡œ ì¦ëª…í•˜ëŠ” ëŠ¥ë ¥. ì‹œë‹ˆì–´ì—ê²Œ ìš”êµ¬ë˜ëŠ” ê²ƒì€ ì „ìê°€ ì•„ë‹ˆë¼ í›„ìë‹¤. í•˜ì§€ë§Œ ë§ì€ ì´ë“¤ì´ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” í¸ë¦¬í•¨(ì¶”ìƒí™”)ì— ì•ˆì£¼í•˜ë©° ë‚´ë¶€ ì›ë¦¬ë¥¼ ê¶ê¸ˆí•´í•˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="2-ì—…ë¬´ì˜-ë°˜ë³µì„±-1ë…„-ì°¨-5ë²ˆ-ë°˜ë³µì˜-í•¨ì •"&gt;2. ì—…ë¬´ì˜ ë°˜ë³µì„±: 1ë…„ ì°¨ 5ë²ˆ ë°˜ë³µì˜ í•¨ì •
&lt;/h4&gt;&lt;p&gt;ì›ì‘ìëŠ” ë¼ˆì•„í”ˆ í†µì°°ì„ ë‚¨ê²¼ë‹¤. &amp;ldquo;ë‚˜ëŠ” 5ë…„ ë™ì•ˆ ì½”ë”©í•´ ì™”ì§€ë§Œ, 5ë…„ ë™ì•ˆ ë°°ìš°ì§€ëŠ” ì•Šì•˜ë‹¤&amp;quot;ë¼ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ë§¤ì¼ ë¹„ìŠ·í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì§œê³ , ê¸°ì¡´ í…œí”Œë¦¿ì„ ë³µì‚¬í•´ ìƒˆ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ë©° ë°”ì˜ê²Œ ë³´ë‚¸ ì‹œê°„ì€ ìš°ë¦¬ë¥¼ ìµìˆ™í•œ ê°œë°œìë¡œ ë§Œë“¤ ë¿ì´ë‹¤.&lt;/li&gt;
&lt;li&gt;ìƒˆë¡œìš´ ê¸°ìˆ ì  ë‚œì œì— ë¶€ë”ªíˆê³  ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê¹Šê²Œ íŒŒê³ ë“œëŠ” ê²½í—˜ì´ ì—†ë‹¤ë©´, ê·¸ê²ƒì€ 5ë…„ì˜ ê²½ë ¥ì´ ì•„ë‹ˆë¼ 1ë…„ì˜ ê²½í—˜ì„ 5ë²ˆ ë°˜ë³µí•œ ê²ƒì— ë¶ˆê³¼í•˜ë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ìš°ë¦¬ëŠ” ìˆ˜í‰ì ìœ¼ë¡œ ê²½í—˜ì„ í™•ì¥í•˜ëŠ” ë° ê¸‰ê¸‰í•´ ì •ì‘ í•œ ë¶„ì•¼ì˜ ë¿Œë¦¬ë¥¼ ê¹Šê²Œ ë‚´ë¦¬ëŠ” ìˆ˜ì§ì  ì„±ì¥ì„ ì†Œí™€íˆ í•´ì™”ì„ì§€ë„ ëª¨ë¥¸ë‹¤.&lt;/p&gt;
&lt;h3 id="ë°±ì—”ë“œ-ê°œë°œìì—ê²Œ-ìš”êµ¬ë˜ëŠ”-ì§„ì§œ-ê¹Šì´ë€"&gt;ë°±ì—”ë“œ ê°œë°œìì—ê²Œ ìš”êµ¬ë˜ëŠ” ì§„ì§œ ê¹Šì´ë€?
&lt;/h3&gt;&lt;p&gt;ì›ì‘ìê°€ ë§ˆì£¼í–ˆë˜ ì§ˆë¬¸ë“¤ì€ ê²°ì½” ì§€ì—½ì ì¸ ë§ì¥ë‚œì´ ì•„ë‹ˆì—ˆë‹¤. ì´ëŠ” ë°±ì—”ë“œ ê°œë°œìê°€ ë§¤ì¼ ë‹¤ë£¨ëŠ” ë„êµ¬ì˜ í•œê³„ì ê³¼ ë™ì‘ ì›ë¦¬ë¥¼ ì–¼ë§ˆë‚˜ ê¹Šê²Œ ì¸ì§€í•˜ê³  ìˆëŠ”ì§€ë¥¼ ë¬»ëŠ” ë³¸ì§ˆì ì¸ ì§ˆë¬¸ë“¤ì´ì—ˆë‹¤.&lt;/p&gt;
&lt;h4 id="1-ìë°”-ê¸°ë³¸ê¸°-arraysaslistì™€-ì¶”ìƒí™”ì˜-í•¨ì •"&gt;1. ìë°” ê¸°ë³¸ê¸°: &lt;code&gt;Arrays.asList()&lt;/code&gt;ì™€ ì¶”ìƒí™”ì˜ í•¨ì •
&lt;/h4&gt;&lt;p&gt;ë‹¨ìˆœíˆ &amp;ldquo;ì—ëŸ¬ê°€ ë‚œë‹¤&amp;quot;ë¥¼ ì•„ëŠ” ê²ƒê³¼ ê·¸ ì´ìœ ê°€ &lt;code&gt;ArrayList&lt;/code&gt;ë¼ëŠ” ì´ë¦„ ë’¤ì— ìˆ¨ê²¨ì§„ êµ¬í˜„ì˜ ì°¨ì´ ë–„ë¬¸ì„ì„ ì•„ëŠ” ê²ƒì€ ë‹¤ë¥´ë‹¤.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Arrays.asList()&lt;/code&gt;ëŠ” ìš°ë¦¬ê°€ í”íˆ ì“°ëŠ” &lt;code&gt;java.util.ArrayList&lt;/code&gt;ê°€ ì•„ë‹ˆë¼, ë‚´ë¶€ í´ë˜ìŠ¤ì¸ &lt;code&gt;Arrays$ArrayList&lt;/code&gt;ë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŠ” &amp;lsquo;ê³ ì • í¬ê¸°&amp;rsquo; ë°°ì—´ì„ ë˜í•‘í•œ ê²ƒì— ë¶ˆê³¼í•˜ê¸° ë•Œë¬¸ì— &lt;code&gt;add()&lt;/code&gt; í˜¸ì¶œ ì‹œ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;
&lt;p&gt;ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤(&lt;code&gt;List&lt;/code&gt;) ë’¤ì— ì–´ë–¤ êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ê°€ ìˆ¨ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ìŠµê´€ì´ ì—†ë‹¤ë©´, ëŸ°íƒ€ì„ì— ì˜ˆìƒì¹˜ ëª»í•œ ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ë§ˆì£¼í•˜ê²Œ ëœë‹¤.&lt;/p&gt;
&lt;h4 id="2-concurrency-ë™ì‹œì„±-ì´ìŠˆë¥¼-í•´ê²°í•˜ëŠ”-ë…¼ë¦¬ì -ê·¼ê±°"&gt;2. Concurrency: ë™ì‹œì„± ì´ìŠˆë¥¼ í•´ê²°í•˜ëŠ” ë…¼ë¦¬ì  ê·¼ê±°
&lt;/h4&gt;&lt;p&gt;ê³µìœ  ìì› ë¬¸ì œì— ë‹¨ìˆœíˆ &lt;code&gt;synchronized&lt;/code&gt;ë¥¼ ë¶™ì´ëŠ” ê²ƒì€ ê°€ì¥ ì‰¬ìš´ í•´ê²°ì±…ì¼ ìˆ˜ ìˆì§€ë§Œ, ì„±ëŠ¥ ìµœì í™” ê´€ì ì—ì„œëŠ” ìµœì•…ì¼ ìˆ˜ ìˆë‹¤. ë©´ì ‘ê´€ì´ ë˜ì§„ &lt;code&gt;AtomaticInteger&lt;/code&gt;ë¼ëŠ” ëŒ€ì•ˆì€ Lock-based(ë¹„ê´€ì  ë½)ì™€ CAS(Compare-And-Swap, ë‚™ê´€ì  ë½)ì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ê³  ìˆëŠ”ì§€ ë¬»ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;
&lt;p&gt;ì‹¤ë¬´ì—ì„œ ë°œìƒí•˜ëŠ” ë°ë“œë½ì´ë‚˜ ì„±ëŠ¥ ì €í•˜ ë¬¸ì œëŠ” ëŒ€ê°œ ì´ëŸ° ì›ë¦¬ì— ëŒ€í•œ ë¬´ì§€ì—ì„œ ì‹œì‘ëœë‹¤. &amp;ldquo;ëŒì•„ê°€ë‹ˆê¹Œ ëë‹¤&amp;quot;ëŠ” ì‹œë‹ˆì–´ì˜ ë‹µë³€ì´ ë  ìˆ˜ ì—†ë‹¤.&lt;/p&gt;
&lt;h4 id="3-ì‹œìŠ¤í…œ-ì„¤ê³„-trade-offì˜-ì˜ˆìˆ "&gt;3. ì‹œìŠ¤í…œ ì„¤ê³„: Trade-offì˜ ì˜ˆìˆ 
&lt;/h4&gt;&lt;p&gt;ë ˆì´íŠ¸ ë¦¬ë¯¸í„° ì„¤ê³„ ì˜ˆì‹œì—ì„œ ì¤‘ìš”í•œ ê±´ &amp;lsquo;ì •ë‹µ&amp;rsquo;ì´ ì•„ë‹ˆë‹¤. ì™œ ê³ ì • ìœˆë„ìš°ê°€ ì•„ë‹Œ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ íƒí–ˆëŠ”ì§€, í† í° ë²„í‚· ë°©ì‹ì´ íŠ¸ë˜í”½ ë²„ìŠ¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠ”ì§€ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.&lt;/p&gt;
&lt;p&gt;ëª¨ë“  ê¸°ìˆ  ì„ íƒì—ëŠ” ë¹„ìš©ì´ ë”°ë¥¸ë‹¤. ì‹œë‹ˆì–´ëŠ” ì„±ëŠ¥, ë³µì¡ë„, ìœ ì§€ë³´ìˆ˜ì„± ì‚¬ì´ì—ì„œ ìµœì ì˜ ê· í˜•ì ì„ ì°¾ëŠ” &amp;lsquo;ì˜ì‚¬ê²°ì •ê¶Œì&amp;rsquo;ì—¬ì•¼ í•œë‹¤.&lt;/p&gt;
&lt;h3 id="ì–•ì€-ì§€ì‹ì„-ì˜¨ì „íˆ-ë‚´-ê²ƒìœ¼ë¡œ-ë§Œë“œëŠ”-ì „ëµ"&gt;ì–•ì€ ì§€ì‹ì„ ì˜¨ì „íˆ ë‚´ ê²ƒìœ¼ë¡œ ë§Œë“œëŠ” ì „ëµ
&lt;/h3&gt;&lt;p&gt;ì‚¬ì‹¤ ì´ê±´ ì—‰ë©ì´ ë¶™ì´ê³  ì•‰ì•„ì„œ ì‚¬íˆ¬ë¥¼ ë²Œì´ë©° ì²´í™”í•˜ëŠ” ê²ƒ ë§ê³  ì™•ë„ê°€ ìˆì„ê¹Œ ì‹¶ë‹¤. ìì‹ ì—ê²Œ ë§ëŠ” íš¨ìœ¨ì ì¸ ë°©ë²•ì„ ì°¾ì•„ ì‹œê°„ì„ ì•„ë‚„ ìˆ˜ ìˆë‹¤ë©´ ë”í•  ë‚˜ìœ„ ì—†ì´ ì¢‹ì€ ê°€ì¹˜ê°€ ëœë‹¤. í•˜ì§€ë§Œ íš¨ìœ¨ì„ í•‘ê³„ë¡œ ê¹Šì´ íŒŒê³ ë“œëŠ” ê³ í†µì„ íšŒí”¼í•˜ê³  ìˆëŠ” ê²ƒì€ ì•„ë‹Œì§€ ìŠ¤ìŠ¤ë¡œ ê²½ê³„í•´ì•¼ í•œë‹¤.&lt;/p&gt;
&lt;p&gt;íŒŒí¸í™”ëœ ì§€ì‹ì„ ê²½í—˜ìœ¼ë¡œ ì—°ê²°í•˜ê¸° ìœ„í•´ ë‚´ê°€ ì‹¤ì²œí•˜ê³  ìˆëŠ”, ê·¸ë¦¬ê³  ì›ì‘ìê°€ ì œì•ˆí•œ &amp;lsquo;ë¦¬ì…‹&amp;rsquo; ì „ëµì´ë‹¤.&lt;/p&gt;
&lt;h4 id="1-ì†ŒìŠ¤-ì½”ë“œ-ì—¬í–‰go-to-declaration"&gt;1. ì†ŒìŠ¤ ì½”ë“œ ì—¬í–‰(Go to Declaration)
&lt;/h4&gt;&lt;p&gt;IDEì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œ &lt;code&gt;Ctrl+Click&lt;/code&gt;ì„ ëˆ„ë¥´ëŠ” ìŠµê´€ì„ ë“¤ì—¬ì•¼ í•œë‹¤. ë‚´ê°€ í˜¸ì¶œí•œ ë©”ì„œë“œê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–¤ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì–´ë–¤ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ”ì§€ ì§ì ‘ ëˆˆìœ¼ë¡œ í™•ì¸í•˜ëŠ” ê³¼ì •ì´ ìŒ“ì—¬ ê¸°ìˆ ì  ê¹Šì´ê°€ ëœë‹¤.&lt;/p&gt;
&lt;h4 id="2-ë¬¸ì„œí™”ì™€-ì–¸ì–´í™”"&gt;2. ë¬¸ì„œí™”ì™€ ì–¸ì–´í™”
&lt;/h4&gt;&lt;p&gt;ë¨¸ë¦¿ì†ìœ¼ë¡œ ì•ˆë‹¤ê³  ìƒê°í•˜ëŠ” ê²ƒê³¼ ê·¸ê²ƒì„ íƒ€ì¸ì—ê²Œ ì„¤ëª…í•˜ëŠ” ê²ƒì€ ì²œì§€ ì°¨ì´ë‹¤. í•™ìŠµí•œ ë‚´ìš©ì„ ë¸”ë¡œê·¸ì— ì •ë¦¬í•˜ê±°ë‚˜ ë™ë£Œì—ê²Œ ê³µìœ í•´ë³´ì. ë…¼ë¦¬ì˜ ë¹ˆí‹ˆì€ ì„¤ëª…í•˜ë ¤ í•  ë•Œ ë¹„ë¡œì†Œ ë“œëŸ¬ë‚œë‹¤.&lt;/p&gt;
&lt;h4 id="pocproof-of-concept-ì¤‘ì‹¬-í•™ìŠµ"&gt;PoC(Proof of Concept) ì¤‘ì‹¬ í•™ìŠµ
&lt;/h4&gt;&lt;p&gt;ì´ë¡ ìœ¼ë¡œë§Œ ë°°ìš´ ê°œë…ì€ ê¸ˆë°© íœ˜ë°œëœë‹¤. &lt;code&gt;AtomaticInteger&lt;/code&gt;ê°€ ì •ë§ &lt;code&gt;synchronized&lt;/code&gt;ë³´ë‹¤ ë¹ ë¥¸ì§€, 1000ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ëŒë ¤ ì§ì ‘ ë²¤ì¹˜ë§ˆí¬ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì•„ë¼. ì§ì ‘ í˜„ìƒì„ ì¬í˜„í•˜ê³  ë°ì´í„°ë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸í•œ ì§€ì‹ì€ ê²°ì½” ë¬´ë„ˆì§€ì§€ ì•ŠëŠ”ë‹¤.&lt;/p&gt;
&lt;h3 id="ì—°ì°¨ì˜-ë¬´ê²Œë¥¼-ê°ë‹¹í•˜ëŠ”-ê°œë°œìê°€-ë˜ê¸°-ìœ„í•´"&gt;ì—°ì°¨ì˜ ë¬´ê²Œë¥¼ ê°ë‹¹í•˜ëŠ” ê°œë°œìê°€ ë˜ê¸° ìœ„í•´
&lt;/h3&gt;&lt;p&gt;ì›ì‘ìëŠ” ë§ˆì§€ë§‰ì— ì´ë ‡ê²Œ ë§í•œë‹¤. &amp;ldquo;ë‹¹ì‹ ì˜ ê²½í—˜ì€ ê·¸ê²ƒì„ ê¹Šì´ ìˆê²Œ ì„¤ëª…í•  ìˆ˜ ìˆì„ ë–„ë§Œ ì˜ë¯¸ê°€ ìˆë‹¤.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;5ë…„, 10ë…„ì´ë¼ëŠ” ìˆ«ìê°€ ì£¼ëŠ” ì•ˆë½í•¨ì— ì†ì§€ ë§ì. ì˜¤ëŠ˜ ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œ í•œ ì¤„ì˜ &amp;lsquo;ì´ìœ &amp;rsquo;ë¥¼ ì„¤ëª…í•˜ì§€ ëª»í•œë‹¤ë©´ ìš°ë¦¬ëŠ” ê·¸ì € ê±°ëŒ€í•œ í”„ë ˆì„ì›Œí¬ì˜ ë¶€í’ˆìœ¼ë¡œ ë¨¸ë¬¼ ë¿ì´ë‹¤. ì—°ì°¨ì— ì–´ìš¸ë¦¬ëŠ” ë¬´ê²Œê°ì€ ë‚´ê°€ ì•„ëŠ” ê¸°ìˆ ì˜ ë¿Œë¦¬ì—ì„œ ë‚˜ì˜¨ë‹¤. ë‚´ì¼ì˜ ìš°ë¦¬ëŠ” ì˜¤ëŠ˜ë³´ë‹¤ ì¡°ê¸ˆ ë” ê¹Šì€ ê°œë°œìì´ê¸°ë¥¼ ë°”ë€ë‹¤.&lt;/p&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;p&gt;ê²½ë ¥ì€ ë‹¨ìˆœíˆ ì‹œê°„ì´ íë¥¸ ê²°ê³¼ê°€ ì•„ë‹ˆë¼ ê·¸ ì‹œê°„ ë™ì•ˆ ìŒ“ì•„ ì˜¬ë¦° ë…¼ë¦¬ì  ê·¼ê±°ì˜ ì´í•©ì´ë‹¤.
íš¨ìœ¨ì„ í•‘ê³„ë¡œ ê¹Šì´ íŒŒê³ ë“œëŠ” ê³ í†µì„ íšŒí”¼í•˜ê³  ìˆëŠ” ê²ƒì€ ì•„ë‹Œì§€ ìŠ¤ìŠ¤ë¡œ ê²½ê³„í•´ì•¼ í•œë‹¤.&lt;/p&gt;</description></item><item><title>MSA Outbox íŒ¨í„´</title><link>https://blog.b9f1.com/p/2025-10-10-outbox-patterns-for-data-consistency-and-event-reliability-in-msa/</link><pubDate>Fri, 10 Oct 2025 19:41:23 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-10-10-outbox-patterns-for-data-consistency-and-event-reliability-in-msa/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;MSAì—ì„œ ê° ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ ì‚¬ìš©í•˜ë©° ì´ë¥¼ í†µí•´ ë¹„ë™ê¸° ì´ë²¤íŠ¸ë¥¼ êµí™˜í•œë‹¤.&lt;/p&gt;
&lt;p&gt;í•˜ì§€ë§Œ ì´ êµ¬ì¡°ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ë°ì´í„° ì €ì¥ê³¼ ì´ë²¤íŠ¸ ë°œí–‰ì´ ë¶„ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë°ì´í„° ì¼ê´€ì„±ê³¼ ë©”ì‹œì§€ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ê¸° ì–´ë µë‹¤.&lt;/p&gt;
&lt;p&gt;ì˜ˆë¥¼ ë“¤ì–´ ê²°ì œ ì„œë¹„ìŠ¤ê°€ ê²°ì œ ì •ë³´ë¥¼ DBì— ì €ì¥í•œ í›„ kafkaì— ê²°ì œ ì™„ë£Œ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•œë‹¤ê³  í•˜ì. ë§Œì•½ DB ì €ì¥ì€ ì„±ê³µí–ˆì§€ë§Œ kafka ë°œí–‰ì´ ì‹¤íŒ¨í•œë‹¤ë©´?
ê²°ì œëŠ” ë˜ì—ˆëŠ”ë° ì•Œë¦¼ ì„œë¹„ìŠ¤ë‚˜ ë°°ì†¡ ì„œë¹„ìŠ¤ëŠ” ì´ë¥¼ ëª¨ë¥´ê²Œ ëœë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì•ˆì „í•œ ì „ëµì´ ë°”ë¡œ Outbox íŒ¨í„´ì´ë‹¤.&lt;/p&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;Info&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;OutboxëŠ” ë³´ë‚¼ í¸ì§€í•¨ì´ë¼ëŠ” ëœ»ì´ë©° &lt;code&gt;Transactional Outbox Pattern&lt;/code&gt;ìœ¼ë¡œ ì¡°íšŒí–ˆì„ ë•Œ ë‹¤ì–‘í•œ ì •ë³´ê°€ ìˆì—ˆë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="ë¬¸ì œ-ìƒí™©"&gt;ë¬¸ì œ ìƒí™©
&lt;/h3&gt;&lt;p&gt;MSA í™˜ê²½ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë¶ˆì¼ì¹˜ê°€ ìì£¼ ë°œìƒí•œë‹¤.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DBì—ëŠ” ë°˜ì˜ë˜ì—ˆì§€ë§Œ ì´ë²¤íŠ¸ ë°œí–‰ ì‹¤íŒ¨&lt;/li&gt;
&lt;li&gt;ì´ë²¤íŠ¸ëŠ” ë°œí–‰ë˜ì—ˆì§€ë§Œ ë°ì´í„° ì €ì¥ ì‹¤íŒ¨&lt;/li&gt;
&lt;li&gt;ì¤‘ë³µ ë°œí–‰ ë° ìˆœì„œ ë¶ˆì¼ì¹˜&lt;/li&gt;
&lt;li&gt;ì„œë¹„ìŠ¤ ê°„ ì¬ì‹œë„ ë¡œì§ìœ¼ë¡œ ì¸í•œ ì¤‘ë³µ ì²˜ë¦¬&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ì´ëŠ” &lt;strong&gt;DB íŠ¸ëœì­ì…˜ê³¼ ë©”ì‹œì§€ ë°œí–‰ì´ ì›ìì (atomic)&lt;/strong&gt; ìœ¼ë¡œ ë¬¶ì—¬ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.&lt;/p&gt;
&lt;h3 id="ê¸°ì¡´-ì ‘ê·¼ì˜-í•œê³„"&gt;ê¸°ì¡´ ì ‘ê·¼ì˜ í•œê³„
&lt;/h3&gt;&lt;h4 id="2pctwo-phase-commit"&gt;2PC(Two-Phase Commit)
&lt;/h4&gt;&lt;p&gt;DBì™€ ë©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ XA íŠ¸ëœì­ì…˜ì„ ì§€ì›í•´ì•¼ í•˜ë©°, ë½ ê²½í•©ê³¼ ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œë¡œ ì¸í•´ í™•ì¥ì„± ì¸¡ë©´ì—ì„œ ë¶€ì í•©í•˜ë‹¤.&lt;/p&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;XS íŠ¸ëœì­ì…˜&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;í‘œì¤€í™”ëœ ë¶„ì‚° íŠ¸ëœì­ì…˜ êµ¬í˜„ XA(eXtended Architecture)ëŠ” 2PC(2 phase commit)ì„ í†µí•œ ë¶„ì‚° íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ìœ„í•´ X-Openì—ì„œ ëª…ì‹œí•œ í‘œì¤€ì´ë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="application-level-retry"&gt;Application-Level Retry
&lt;/h4&gt;&lt;p&gt;ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œí–‰ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ì¥ì• ë‚˜ ì¥ì•  ë³µêµ¬ ì‹œì ì— ë”°ë¼ &lt;strong&gt;ì¤‘ë³µ ì´ë²¤íŠ¸&lt;/strong&gt; ë˜ëŠ” &lt;strong&gt;ìˆœì„œ ì—­ì „&lt;/strong&gt;ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;
&lt;h3 id="outbox-íŒ¨í„´ìœ¼ë¡œ-í•´ê²°í• -ìˆ˜-ìˆëŠ”-ê²ƒ"&gt;Outbox íŒ¨í„´ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²ƒ
&lt;/h3&gt;&lt;p&gt;Outbox íŒ¨í„´ì€ &lt;strong&gt;ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°ì™€ ì´ë²¤íŠ¸ë¥¼ ë™ì¼ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì²˜ë¦¬í•˜ê³ &lt;/strong&gt; ì´í›„ ë³„ë„ì˜ &lt;strong&gt;Message Relay í”„ë¡œì„¸ìŠ¤&lt;/strong&gt;ê°€ ë©”ì‹œì§€ ë¸Œë¡œì»¤(Kafka, RabbitMQ ë“±)ì— ë°œí–‰í•˜ëŠ” êµ¬ì¡°ë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ ë°©ì‹ì€ íŠ¸ëœì­ì…˜ ì¼ê´€ì„±ê³¼ ë©”ì‹œì§€ ì‹ ë¢°ì„±ì„ ëª¨ë‘ í™•ë³´í•œë‹¤.&lt;/p&gt;
&lt;h4 id="ì²˜ë¦¬-íë¦„-ìš”ì•½"&gt;ì²˜ë¦¬ íë¦„ ìš”ì•½
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ë¹„ì¦ˆë‹ˆìŠ¤ íŠ¸ëœì­ì…˜ ìˆ˜í–‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ORDER&lt;/code&gt; í…Œì´ë¸”ì— INSERT / UPDATE / DELETE ìˆ˜í–‰&lt;/li&gt;
&lt;li&gt;ê°™ì€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ &lt;code&gt;OUTBOX&lt;/code&gt; í…Œì´ë¸”ì— ì´ë²¤íŠ¸ ë©”ì‹œì§€(í˜ì´ë¡œë“œ) ì €ì¥&lt;/li&gt;
&lt;li&gt;ë‘ í…Œì´ë¸”ì€ &lt;strong&gt;í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë‹¨ìœ„&lt;/strong&gt;ë¡œ ì»¤ë°‹ë¨, ì›ìì„±(Atomicity) í™•ë³´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë©”ì‹œì§€ ë¦´ë ˆì´(Message Relay)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ëœ í›„, ë³„ë„ í”„ë¡œì„¸ìŠ¤ê°€ &lt;code&gt;OUTBOX&lt;/code&gt; í…Œì´ë¸”ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì½ìŒ&lt;/li&gt;
&lt;li&gt;ë°œí–‰ë˜ì§€ ì•Šì€ ì´ë²¤íŠ¸(&lt;code&gt;status = NEW&lt;/code&gt;)ë¥¼ ì°¾ì•„ ë©”ì‹œì§€ ë¸Œë¡œì»¤ì— Publish&lt;/li&gt;
&lt;li&gt;ë°œí–‰ ì„±ê³µ ì‹œ &lt;code&gt;status = PUBLISHED&lt;/code&gt;ë¡œ ê°±ì‹ &lt;/li&gt;
&lt;li&gt;ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ ë˜ëŠ” DLQ(Dead Letter Queue)ë¡œ ì´ë™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë©”ì‹œì§€ ë¸Œë¡œì»¤&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Kafka, RabbitMQ, AWS SNS/SQS ë“±ìœ¼ë¡œ ë©”ì‹œì§€ ì „ë‹¬&lt;/li&gt;
&lt;li&gt;êµ¬ë… ì„œë¹„ìŠ¤ë“¤ì´ í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="mermaid-container zoomable"&gt;
&lt;pre class="mermaid"&gt;
flowchart LR
A[Order Service] --&gt;|INSERT/UPDATE/DELETE| B[(ORDER table)]
A --&gt;|INSERT event| C[(OUTBOX table)]
subgraph Database
B
C
end
C --&gt;|Read Outbox| D[Message Relay]
D --&gt;|Publish Event| E[Message Broker]
classDef highlight fill:#f4f4f4,stroke:#666,stroke-width:1px;
class B,C highlight
&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id="êµ¬ì„±-ìš”ì†Œ"&gt;êµ¬ì„± ìš”ì†Œ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Sender (Order Service):&lt;/strong&gt; ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰ ë° Outboxì— ì´ë²¤íŠ¸ ê¸°ë¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Database:&lt;/strong&gt; ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°(&lt;code&gt;ORDER&lt;/code&gt;)ì™€ ì´ë²¤íŠ¸ ë¡œê·¸(&lt;code&gt;OUTBOX&lt;/code&gt;)ë¥¼ í•¨ê»˜ ì €ì¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Message Outbox:&lt;/strong&gt; ë°œí–‰ ëŒ€ê¸° ì¤‘ì¸ ì´ë²¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸” ë˜ëŠ” ì»¬ë ‰ì…˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Message Relay:&lt;/strong&gt; Outbox í…Œì´ë¸”ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì½ì–´ ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¡œ ë°œí–‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Message Broker:&lt;/strong&gt; ì´ë²¤íŠ¸ë¥¼ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ì „ë‹¬ (Kafka, RabbitMQ ë“±)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ì£¼ìš”-ì¥ì "&gt;ì£¼ìš” ì¥ì 
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;í•­ëª©&lt;/th&gt;
&lt;th&gt;ì„¤ëª…&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;íŠ¸ëœì­ì…˜ ì¼ê´€ì„± ë³´ì¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DB ì €ì¥ê³¼ ì´ë²¤íŠ¸ ê¸°ë¡ì´ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì²˜ë¦¬ë¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ì¬ì²˜ë¦¬ ê°€ëŠ¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Outbox í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ ì‹¤íŒ¨í•œ ì´ë²¤íŠ¸ë¥¼ ì¬ì „ì†¡ ê°€ëŠ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ë©±ë“±ì„±(idempotency)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì´ë²¤íŠ¸ ë°œí–‰ ì‹œ &lt;code&gt;event_id&lt;/code&gt;ë¡œ ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;í™•ì¥ì„±&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Kafka Connect / Debezium ë“±ì„ í†µí•´ Change Data Capture(CDC) ê¸°ë°˜ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="outbox--cdcchange-data-capture"&gt;Outbox + CDC(Change Data Capture)
&lt;/h3&gt;&lt;p&gt;ë‹¨ìˆœ í´ë§ ê¸°ë°˜ì€ ë¶€í•˜ê°€ í¬ê¸° ë•Œë¬¸ì— &lt;strong&gt;Debezium + Kafka Connect&lt;/strong&gt; ì¡°í•©ì„ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.
DB íŠ¸ëœì­ì…˜ ë¡œê·¸ë¥¼ êµ¬ë…í•˜ì—¬ outbox í…Œì´ë¸”ì˜ ë³€ê²½ ì‚¬í•­ë§Œ ìº¡ì²˜í•´ ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ë¯€ë¡œ íš¨ìœ¨ì ì´ë‹¤.&lt;/p&gt;
&lt;h3 id="ìœ ì‚¬-íŒ¨í„´ê³¼-ë¹„êµ"&gt;ìœ ì‚¬ íŒ¨í„´ê³¼ ë¹„êµ
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;íŒ¨í„´&lt;/th&gt;
&lt;th&gt;ì„¤ëª…&lt;/th&gt;
&lt;th&gt;í•œê³„&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Saga íŒ¨í„´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì—¬ëŸ¬ ì„œë¹„ìŠ¤ íŠ¸ëœì­ì…˜ì„ ë³´ìƒ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ê´€ë¦¬&lt;/td&gt;
&lt;td&gt;ë³µì¡í•œ ë³´ìƒ ë¡œì§, ìˆœì°¨ì  ì§€ì—°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Event Sourcing&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ìƒíƒœë¥¼ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì €ì¥&lt;/td&gt;
&lt;td&gt;ì´ë²¤íŠ¸ ì¬ìƒ ë¹„ìš©, ë³µì¡í•œ ì¿¼ë¦¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Outbox íŒ¨í„´&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì´ë²¤íŠ¸ë¥¼ ë³„ë„ í…Œì´ë¸”ì— ê¸°ë¡ í›„ ë°œí–‰&lt;/td&gt;
&lt;td&gt;Outbox í…Œì´ë¸” ê´€ë¦¬ í•„ìš”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="ì ìš©-ì‹œ-ê³ ë ¤ì‚¬í•­"&gt;ì ìš© ì‹œ ê³ ë ¤ì‚¬í•­
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Outbox í…Œì´ë¸”ì€ ì£¼ê¸°ì ìœ¼ë¡œ ì •ë¦¬(cleanup) í•„ìš”&lt;/li&gt;
&lt;li&gt;ì´ë²¤íŠ¸ ë°œí–‰ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ì •ì±… ë° DLQ(Dead Letter Queue) êµ¬ì„±&lt;/li&gt;
&lt;li&gt;ë°œí–‰ ìˆœì„œ ë³´ì¥ì„ ìœ„í•œ íŒŒí‹°ì…”ë‹ í‚¤ ì„¤ê³„ (&lt;code&gt;aggregate_id&lt;/code&gt; ê¸°ë°˜)&lt;/li&gt;
&lt;li&gt;Kafka ë“± ë©”ì‹œì§€ ë¸Œë¡œì»¤ì˜ ì „ë‹¬ ë³´ì¦ ì„¤ì • (&lt;code&gt;at-least-once&lt;/code&gt; vs &lt;code&gt;exactly-once&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ë°œí–‰ ì¤‘ë³µ ëŒ€ë¹„ë¥¼ ìœ„í•œ ë©±ë“± ì²˜ë¦¬ ì „ëµ (&lt;code&gt;unique event_id&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="outbox-íŒ¨í„´-ì ìš©-ê´€ë ¨-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"&gt;Outbox íŒ¨í„´ ì ìš© ê´€ë ¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
&lt;/h3&gt;&lt;p&gt;ë‚ ì”¨ ì •ë³´ë¡œ ì‚¬ìš©ìì˜ OOTDë¥¼ ì¶”ì²œí•˜ëŠ” ì„œë¹„ìŠ¤(í”¼ë“œ ê³µìœ , DM ë“± SNS ê¸°ëŠ¥ í¬í•¨)
ë‚ ì”¨ ë„ë©”ì¸ì„ ë‹´ë‹¹í•˜ëŠ” íŒ€ì›ì˜ PRì„ ë¦¬ë·°í•˜ë‹¤ê°€ íŠ¹ì´í•œ ìƒí™©ì„ ë§Œë‚¬ë‹¤.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ë°°ì¹˜ ì¡ì„ ì‹¤í–‰í•˜ë©° íŠ¹ë³„í•œ ë‚ ì”¨ ë³€í™”ê°€ ê°ì§€ë˜ë©´ ì•Œë¦¼ì„ ìƒì„±í•˜ëŠ” ì¼€ì´ìŠ¤&lt;/li&gt;
&lt;li&gt;í•´ë‹¹ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì˜ DBì™€ ì¶©ëŒì´ ì—†ë„ë¡ ë…ë¦½ëœ ì¸ë©”ëª¨ë¦¬ DBë¡œ ì‹¤í–‰.&lt;/li&gt;
&lt;li&gt;ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‹¤í–‰ ì‹œ ì„±ê³µ ë˜ëŠ” ë¬´í•œ ë£¨í”„ë¡œ ì¸í•œ ì‹¤íŒ¨. ì„±ê³µ ë³´ì¥ì´ ì•ˆ ë¨.&lt;/li&gt;
&lt;li&gt;íŠ¹ì´í•˜ê²Œ CI ì´ë ¥ì—” ì„±ê³µ ì¼€ì´ìŠ¤ë§Œ ìˆìŒ.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="ë¡œì§-ì ê²€"&gt;ë¡œì§ ì ê²€
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;outboxes&lt;/code&gt;ê°€ ë¹„ì—ˆì„ ë•Œë§Œ &lt;code&gt;FINISHED&lt;/code&gt;, ê¸°ë³¸ì€ &lt;code&gt;CONTINUABLE&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ë°œì†¡í•˜ê¸° ìœ„í•¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ìˆ˜ì‹  ëŒ€ìƒì´ ì—†ì–´ë„ &lt;code&gt;SENDING&lt;/code&gt; ìƒíƒœë¡œ ì €ì¥í•˜ëŠ” ê²°í•¨ ë°œê²¬
&lt;ul&gt;
&lt;li&gt;ìˆ˜ì‹  ëŒ€ìƒì´ ì—†ì–´ì„œ &lt;code&gt;outbox&lt;/code&gt;ê°€ ì²˜ë¦¬ë˜ì§€ ì•Šê³  ê³„ì† ë‚¨ì•„ìˆìœ¼ë©° &lt;code&gt;CONTINUABLE&lt;/code&gt; ë¬´í•œ ë£¨í”„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;í•˜ì§€ë§Œ ê°„í—ì ì¸ ì„±ê³µê³¼ CIì—ì„œë§Œ ì„±ê³µí•˜ëŠ” ê±´ ì„¤ëª…ë˜ì§€ ì•ŠìŒ.&lt;/p&gt;
&lt;h4 id="ì„±ê³µ-ì¡°ê±´ê³¼-ì‹¤íŒ¨-ì¡°ê±´-ì ê²€"&gt;ì„±ê³µ ì¡°ê±´ê³¼ ì‹¤íŒ¨ ì¡°ê±´ ì ê²€
&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;ì™œ ë¡œì»¬ì—ì„  ë¬´í•œ ë£¨í”„ë¡œ ì‹¤íŒ¨í•˜ëŠ” ì¼€ì´ìŠ¤ê°€ ìˆê³  CIì—ì„  ì •ìƒ ë™ì‘í•˜ì§€?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ì„±ê³µì˜ ì¡°ê±´
&lt;ul&gt;
&lt;li&gt;ë°°ì¹˜ ì‹¤í–‰ ì‹œì ì— &lt;code&gt;PENDING&lt;/code&gt; &lt;code&gt;outbox&lt;/code&gt;ê°€ ë¹„ì–´ìˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ì‹¤íŒ¨ì˜ ì¡°ê±´
&lt;ul&gt;
&lt;li&gt;ë°°ì¹˜ ì‹œì‘ í›„, &lt;code&gt;PENDING&lt;/code&gt; &lt;code&gt;outbox&lt;/code&gt; ì¡°íšŒ ì¿¼ë¦¬ì™€ ìˆ˜ì‹  ëŒ€ìƒ ì¡°íšŒ ì¿¼ë¦¬ê°€ ë°˜ë³µ&lt;/li&gt;
&lt;li&gt;ìˆ˜ì‹  ëŒ€ìƒì´ 0ëª…ì¸ ê²½ìš°: &lt;code&gt;SENDING&lt;/code&gt;ìœ¼ë¡œ ë°”ê¾¸ì§€ ì•ŠìŒ, ì—¬ì „íˆ &lt;code&gt;PENDING&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Stepì´ ì¢…ë£Œë˜ì§€ ì•Šê³  ê°™ì€ ì¿¼ë¦¬ë¥¼ ê³„ì† ë‚´ë©° ë¬´í•œ ë°˜ë³µ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ì§ˆë¬¸ì´ ì˜ëª»ëë‹¤..! ë¡œì»¬ê³¼ CIë¡œ êµ¬ë¶„í•´ì„œ ë³¼ ê²Œ ì•„ë‹ˆë¼ ë¡œì§ ì ê²€ì—ì„œ í™•ì¸í–ˆë˜ &lt;code&gt;outbox&lt;/code&gt;ì˜ ìƒì„± ì—¬ë¶€ë¥¼ ë´¤ì–´ì•¼ í–ˆë‹¤. &amp;ldquo;outboxesê°€ ë¹„ì—ˆì„ ë•Œë§Œ &lt;code&gt;FINISHED&lt;/code&gt;&amp;rdquo; ì˜€ìœ¼ë‹ˆê¹Œ..&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ì¦‰, íŠ¹ë³„í•œ ë‚ ì”¨ ë³€í™”ê°€ ìˆëŠ”ê°€? ì˜€ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ë‚ ì”¨ ì¡°íšŒì— ëŒ€í•œ ê²ƒë„ Mocking í•˜ê±°ë‚˜ ìˆ˜ì‹  ëŒ€ìƒì„ ë³´ì¥í•˜ëŠ” ë“± ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆì—ˆì„í…ë° ì •ë‹µì´ ì—†ë‹¤ ë³´ë‹ˆ ë°œìƒí–ˆë˜ ë¬¸ì œ ê°™ë‹¤.&lt;/p&gt;
&lt;p&gt;íŠ¹ì´í•˜ê²Œ CIì— ì„±ê³µ ì´ë ¥ë§Œ ìˆë˜ ê²ƒë„ ë§ˆì¹¨ ê·¸ë•ŒëŠ” íŠ¹ë³„í•œ ë‚ ì”¨ ë³€í™”ê°€ ì—†ë˜ ê²ƒ&amp;hellip;&lt;/p&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;p&gt;Outbox íŒ¨í„´ì€ &lt;strong&gt;MSA í™˜ê²½ì—ì„œ ë°ì´í„° ì¼ê´€ì„±ê³¼ ì´ë²¤íŠ¸ ì‹ ë¢°ì„±ì„ í™•ë³´í•˜ëŠ” í˜„ì‹¤ì ì¸ ëŒ€ì•ˆ&lt;/strong&gt;ì´ ë  ìˆ˜ ìˆë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;íŠ¸ëœì­ì…˜ ACID ì†ì„±&lt;/li&gt;
&lt;li&gt;ë©”ì‹œì§€ ë¸Œë¡œì»¤ì˜ ì „ë‹¬ ë³´ì¦ (&lt;code&gt;at-least-once&lt;/code&gt;, &lt;code&gt;exactly-once&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Saga, 2PC, Event Sourcing íŒ¨í„´&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://ssonzm.tistory.com/148" target="_blank" rel="noopener"
&gt;ë¶„ì‚° íŠ¸ëœì­ì…˜ê³¼ XA íŠ¸ëœì­ì…˜ì— ëŒ€í•´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://devocean.sk.com/blog/techBoardDetail.do?ID=165445&amp;amp;boardType=techBlog" target="_blank" rel="noopener"
&gt;[MSA íŒ¨í„´] SAGA, Transactional Outbox íŒ¨í„´ í™œìš©í•˜ê¸°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://microservices.io/patterns/data/transactional-outbox.html#:~:text=The%20solution%20is%20for%20the,messages%20to%20the%20message%20broker" target="_blank" rel="noopener"
&gt;Pattern: Transactional outbox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ì¶”ê°€-ì •ë¦¬"&gt;ì¶”ê°€ ì •ë¦¬
&lt;/h3&gt;&lt;h4 id="ë‹¨ì¼-ì¸ìŠ¤í„´ìŠ¤monolithic-í™˜ê²½"&gt;ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤(Monolithic) í™˜ê²½
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;í•˜ë‚˜ì˜ DB, í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ëª¨ë“  ë¡œì§ì´ ì²˜ë¦¬ëœë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2PC(2-Phase Commit)&lt;/strong&gt; ê°™ì€ í‘œì¤€ íŠ¸ëœì­ì…˜ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ DB ì €ì¥ê³¼ ì´ë²¤íŠ¸ ì²˜ë¦¬(ì˜ˆ: ë©”ì‹œì§€ í ë°œí–‰)ë¥¼ í•˜ë‚˜ì˜ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¬¶ì„ ìˆ˜ ìˆë‹¤.&lt;/li&gt;
&lt;li&gt;ë”°ë¼ì„œ &lt;strong&gt;ì›ìì„±(Atomicity)&lt;/strong&gt; ê³¼ &lt;strong&gt;ì¼ê´€ì„±(Consistency)&lt;/strong&gt; ì´ ë³´ì¥ëœë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="í™•ì¥-ì‹œ-í•œê³„-ë½-ê²½ìŸ--ì²˜ë¦¬-ë³‘ëª©"&gt;í™•ì¥ ì‹œ í•œê³„ (ë½ ê²½ìŸ &amp;amp; ì²˜ë¦¬ ë³‘ëª©)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;íŠ¸ë˜í”½ ì¦ê°€ â†’ DB Connection Pool ê²½ìŸ â†’ ë½ ê²½í•©(lock contention) ì¦ê°€&lt;/li&gt;
&lt;li&gt;ëŒ€ê·œëª¨ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì¸í•´ ì‘ë‹µ ì§€ì—° ë°œìƒ&lt;/li&gt;
&lt;li&gt;DBê°€ &lt;strong&gt;íŠ¸ëœì­ì…˜ ì½”ë””ë„¤ì´í„°&lt;/strong&gt; ì—­í• ê¹Œì§€ í•˜ë¯€ë¡œ ë³‘ëª©ì´ ì‹¬í™”ëœë‹¤.&lt;/li&gt;
&lt;li&gt;ì´ ì‹œì ì—ì„œ &lt;strong&gt;ë‹¨ì¼ DB íŠ¸ëœì­ì…˜ êµ¬ì¡°ëŠ” í™•ì¥ì„±ì˜ í•œê³„&lt;/strong&gt;ì— ë¶€ë”ªíŒë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ë¶„ì‚°-í™˜ê²½-msa-ë„ì…"&gt;ë¶„ì‚° í™˜ê²½(= MSA ë„ì…)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ê° ì„œë¹„ìŠ¤ê°€ &lt;strong&gt;ë…ë¦½ëœ DB&lt;/strong&gt;ë¥¼ ê°€ì§€ê²Œ ë˜ê³  ì„œë¹„ìŠ¤ ê°„ì—ëŠ” &lt;strong&gt;ë¹„ë™ê¸° ë©”ì‹œì§€ í(Kafka, RabbitMQ, SNS/SQS)&lt;/strong&gt; ë¡œ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•œë‹¤.&lt;/li&gt;
&lt;li&gt;ì´ë¡œ ì¸í•´ ì²˜ë¦¬ ì†ë„ëŠ” ë¹„ì•½ì ìœ¼ë¡œ í–¥ìƒëœë‹¤. (ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ë¹ ë¥´ê²Œ ì»¤ë°‹, ë‚˜ë¨¸ì§€ëŠ” ë¹„ë™ê¸°ë¡œ í›„ì²˜ë¦¬)&lt;/li&gt;
&lt;li&gt;í•˜ì§€ë§Œ &lt;strong&gt;ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œ&lt;/strong&gt;ê°€ ìƒˆë¡­ê²Œ ë“±ì¥í•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ìƒˆë¡œìš´-ë¬¸ì œ-ì›ìì„±-ë¶•ê´´"&gt;ìƒˆë¡œìš´ ë¬¸ì œ: ì›ìì„± ë¶•ê´´
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ë¹„ì¦ˆë‹ˆìŠ¤ íŠ¸ëœì­ì…˜(DB ì»¤ë°‹)ê³¼ ì´ë²¤íŠ¸ ë°œí–‰(Message Send)ì´ &lt;strong&gt;ì„œë¡œ ë‹¤ë¥¸ ì‹œìŠ¤í…œ&lt;/strong&gt;ì—ì„œ ë°œìƒ&lt;/li&gt;
&lt;li&gt;ë‘ ì‘ì—… ì¤‘ í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ë°ì´í„° ë¶ˆì¼ì¹˜ ë°œìƒ&lt;/li&gt;
&lt;li&gt;ë©”ì‹œì§€ ìˆœì„œê°€ ë°”ë€Œê±°ë‚˜ ì¤‘ë³µ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="outbox-íŒ¨í„´ì˜-í•´ê²°-ë°©ì‹"&gt;Outbox íŒ¨í„´ì˜ í•´ê²° ë°©ì‹
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ì„œë¹„ìŠ¤ ë¡œì§ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ &lt;strong&gt;ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„° + ì´ë²¤íŠ¸ ë¡œê·¸(Outbox)ë¥¼ í•¨ê»˜ ì»¤ë°‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ì´ë¡œì¨ â€œì´ë²¤íŠ¸ ê¸°ë¡â€ê¹Œì§€ëŠ” &lt;strong&gt;ì›ìì„± ë³´ì¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ì´í›„ ë³„ë„ í”„ë¡œì„¸ìŠ¤(Message Relay)ê°€ Outbox í…Œì´ë¸”ì„ ì½ì–´ ë©”ì‹œì§€ ë¸Œë¡œì»¤(Kafka ë“±)ì— ë°œí–‰&lt;/li&gt;
&lt;li&gt;ë°œí–‰ì´ ì„±ê³µí•˜ë©´ ìƒíƒœë¥¼ &lt;code&gt;PUBLISHED&lt;/code&gt;ë¡œ ë³€ê²½ ì‹¤íŒ¨í•˜ë©´ ì¬ì‹œë„ ë˜ëŠ” DLQ(Dead Letter Queue)ë¡œ ì²˜ë¦¬&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="mermaid-container zoomable"&gt;
&lt;pre class="mermaid"&gt;
sequenceDiagram
autonumber
participant Service as Order Service
participant DB as Database
participant Relay as Message Relay
participant Kafka as Kafka Broker
rect rgb(240, 248, 255)
Note over Service,DB: [ì„œë¹„ìŠ¤ íŠ¸ëœì­ì…˜ - ë™ê¸° ì²˜ë¦¬]
Service-&gt;&gt;DB: INSERT INTO orders (...)
Service-&gt;&gt;DB: INSERT INTO outbox_event (...)
DB--&gt;&gt;Service: COMMIT (ë‹¨ì¼ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì›ìì„± í™•ë³´)
end
rect rgb(250, 250, 250)
Note over Relay,Kafka: [ë¹„ë™ê¸° ë©”ì‹œì§€ ë¦´ë ˆì´ - Outbox Poller]
Relay-&gt;&gt;DB: SELECT * FROM outbox_event WHERE status = 'NEW'
Relay-&gt;&gt;Kafka: Publish Event to Kafka
Kafka--&gt;&gt;Relay: ACK
Relay-&gt;&gt;DB: UPDATE outbox_event SET status = 'PUBLISHED'
end
&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id="ê²°ê³¼ì ìœ¼ë¡œ"&gt;ê²°ê³¼ì ìœ¼ë¡œ
&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;êµ¬ë¶„&lt;/th&gt;
&lt;th&gt;ê¸°ì¡´ êµ¬ì¡°&lt;/th&gt;
&lt;th&gt;Outbox ì ìš© í›„&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ì›ìì„±&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;DB â†” MQ ë¶„ë¦¬ë˜ì–´ ê¹¨ì§&lt;/td&gt;
&lt;td&gt;ë™ì¼ íŠ¸ëœì­ì…˜ ë‚´ Outbox ê¸°ë¡ìœ¼ë¡œ ë³´ì¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;í™•ì¥ì„±&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë‹¨ì¼ DB ë½ ë³‘ëª©&lt;/td&gt;
&lt;td&gt;ë¶„ì‚° í™˜ê²½ + ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ê°œì„ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ì‹ ë¢°ì„±&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë°œí–‰ ì‹¤íŒ¨ ì‹œ ìœ ì‹¤ ê°€ëŠ¥&lt;/td&gt;
&lt;td&gt;Outbox ì¬ì‹œë„ / CDCë¡œ íšŒë³µ ê°€ëŠ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ìš´ì˜ ë³µì¡ë„&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë‹¨ìˆœ&lt;/td&gt;
&lt;td&gt;Outbox í…Œì´ë¸” ê´€ë¦¬ í•„ìš”(ìš´ì˜ë¹„ ì¦ê°€)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description></item><item><title>ë¡œì»¬ ìºì‹œ vs ë¶„ì‚° ìºì‹œ</title><link>https://blog.b9f1.com/p/2025-08-30-local-cache-vs-distributed-cache/</link><pubDate>Sat, 30 Aug 2025 13:25:20 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-08-30-local-cache-vs-distributed-cache/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ ìµœì í™”ì—ì„œ &lt;strong&gt;ìºì‹œ(Cache)&lt;/strong&gt; ëŠ” ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” í•µì‹¬ ìš”ì†Œë‹¤.&lt;/p&gt;
&lt;p&gt;ìºì‹œëŠ” ë°ì´í„°ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ê³„ì‚°í•˜ê±°ë‚˜ DBì—ì„œ ê°€ì ¸ì˜¤ì§€ ì•Šê³ , &lt;strong&gt;ë¹ ë¥¸ ì ‘ê·¼ì´ ê°€ëŠ¥í•œ ì €ì¥ì†Œ&lt;/strong&gt;ì— ë³´ê´€í•´ ì¬ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì‘ë‹µ ì†ë„ë¥¼ ê°œì„ í•œë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ë²ˆ ê¸€ì—ì„œëŠ” &lt;strong&gt;ë¡œì»¬ ìºì‹œ(Local Cache)&lt;/strong&gt; ì™€ &lt;strong&gt;ë¶„ì‚° ìºì‹œ(Distributed Cache)&lt;/strong&gt; ì˜ ê°œë…ì  ì°¨ì´ë¥¼ ì‚´í´ë³´ê³ , ê°ê°ì˜ ì¥ë‹¨ì , ê·¸ë¦¬ê³  ì‹¤ë¬´ì—ì„œ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì„ íƒí•´ì•¼ í•˜ëŠ”ì§€ ë‹¤ë£¬ë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="1-ë¡œì»¬-ìºì‹œlocal-cache"&gt;1. ë¡œì»¬ ìºì‹œ(Local Cache)
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ì •ì˜&lt;/strong&gt;: ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ ë©”ëª¨ë¦¬ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìºì‹œ.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì˜ˆì‹œ&lt;/strong&gt;: Spring Bootì—ì„œ &lt;code&gt;@Cacheable&lt;/code&gt;ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” &lt;code&gt;ConcurrentHashMap&lt;/code&gt;, Guava Cache, Caffeine ë“±.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ì¥ì "&gt;ì¥ì 
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;DBë‚˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  &lt;strong&gt;ë©”ëª¨ë¦¬ ì ‘ê·¼ ì†ë„&lt;/strong&gt;ë¡œ ì‘ë‹µ â†’ ê·¹í•œì˜ ì„±ëŠ¥.&lt;/li&gt;
&lt;li&gt;ì„¤ì¹˜ë‚˜ ìš´ì˜ì´ ê°„ë‹¨í•˜ë©°, ì™¸ë¶€ ì‹œìŠ¤í…œ ì˜ì¡´ë„ê°€ ì—†ìŒ.&lt;/li&gt;
&lt;li&gt;íŠ¸ë˜í”½ì´ ì ê±°ë‚˜ ë‹¨ì¼ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ë‹¨ì "&gt;ë‹¨ì 
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;í™•ì¥ì„± ë¶€ì¡±&lt;/strong&gt;: ì„œë²„ê°€ ì—¬ëŸ¬ ëŒ€ë¼ë©´ ê° ì¸ìŠ¤í„´ìŠ¤ë§ˆë‹¤ ìºì‹œë¥¼ ë”°ë¡œ ê´€ë¦¬í•´ì•¼ í•¨ â†’ ë°ì´í„° ë¶ˆì¼ì¹˜(Inconsistency).&lt;/li&gt;
&lt;li&gt;ì„œë²„ ì¬ì‹œì‘ ì‹œ ìºì‹œ ë°ì´í„° ì†ì‹¤.&lt;/li&gt;
&lt;li&gt;ìºì‹œ ë©”ëª¨ë¦¬ í¬ê¸°ê°€ ì„œë²„ ë©”ëª¨ë¦¬ì— ì§ì ‘ ì˜ì¡´.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="2-ë¶„ì‚°-ìºì‹œdistributed-cache"&gt;2. ë¶„ì‚° ìºì‹œ(Distributed Cache)
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ì •ì˜&lt;/strong&gt;: ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì—¬ëŸ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ê³µìœ í•˜ëŠ” ì™¸ë¶€ ìºì‹œ ì„œë²„.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì˜ˆì‹œ&lt;/strong&gt;: Redis, Memcached, Hazelcast, AWS ElastiCache.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ì¥ì -1"&gt;ì¥ì 
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ì—¬ëŸ¬ ì„œë²„ ê°„ &lt;strong&gt;ìºì‹œ ì¼ê´€ì„± ë³´ì¥&lt;/strong&gt; (ëª¨ë“  ë…¸ë“œê°€ ê°™ì€ ìºì‹œ ë°ì´í„° ì°¸ì¡°).&lt;/li&gt;
&lt;li&gt;ì„œë²„ ì¬ì‹œì‘ì—ë„ ë°ì´í„° ìœ ì§€ ê°€ëŠ¥(íŠ¹íˆ Redis ê°™ì€ Persistent Cache).&lt;/li&gt;
&lt;li&gt;ëŒ€ê·œëª¨ íŠ¸ë˜í”½ ì²˜ë¦¬ì™€ ìˆ˜í‰ í™•ì¥ì— ì í•©.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ë‹¨ì -1"&gt;ë‹¨ì 
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ë„¤íŠ¸ì›Œí¬ë¥¼ ê±°ì¹˜ë¯€ë¡œ ë¡œì»¬ ìºì‹œë³´ë‹¤ ì ‘ê·¼ ì†ë„ëŠ” ëŠë¦¼.&lt;/li&gt;
&lt;li&gt;ë³„ë„ì˜ ì¸í”„ë¼ ìš´ì˜ì´ í•„ìš”í•˜ë©°, ì„¤ì • ë° ë¹„ìš© ë¶€ë‹´ì´ ìˆìŒ.&lt;/li&gt;
&lt;li&gt;ë„¤íŠ¸ì›Œí¬ ì¥ì•  ì‹œ ìºì‹œ ë¯¸ìŠ¤(cache miss) í­ë°œ ê°€ëŠ¥ì„±.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="3-ì‹¤ë¬´ì—ì„œì˜-ì„ íƒ-ê¸°ì¤€"&gt;3. ì‹¤ë¬´ì—ì„œì˜ ì„ íƒ ê¸°ì¤€
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ê¸°ì¤€&lt;/th&gt;
&lt;th&gt;ë¡œì»¬ ìºì‹œ ì í•©&lt;/th&gt;
&lt;th&gt;ë¶„ì‚° ìºì‹œ ì í•©&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;íŠ¸ë˜í”½ ê·œëª¨&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì†Œê·œëª¨, ë‹¨ì¼ ì„œë²„&lt;/td&gt;
&lt;td&gt;ëŒ€ê·œëª¨, ë‹¤ì¤‘ ì„œë²„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ì¼ê´€ì„± ìš”êµ¬&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë°ì´í„° ë³€ë™ì´ ì ê±°ë‚˜ ì¤‘ìš”í•˜ì§€ ì•Šì€ ê²½ìš°&lt;/td&gt;
&lt;td&gt;ê°•í•œ ì¼ê´€ì„±ì´ í•„ìš”í•œ ê²½ìš°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ìš´ì˜ ë³µì¡ë„&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ê°„ë‹¨í•œ ì•„í‚¤í…ì²˜ ì¶”êµ¬&lt;/td&gt;
&lt;td&gt;ë³„ë„ ì¸í”„ë¼ ìš´ì˜ ê°€ëŠ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ì„±ëŠ¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë§ˆì´í¬ë¡œì´ˆ ë‹¨ìœ„ ì‘ë‹µ&lt;/td&gt;
&lt;td&gt;ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‘ë‹µ (ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ì¥ì•  ë³µì›ë ¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì„œë²„ ì¬ì‹œì‘ ì‹œ ìºì‹œ ìœ ì‹¤&lt;/td&gt;
&lt;td&gt;ì˜ì†ì„± ì˜µì…˜ì„ í†µí•´ ë°ì´í„° ìœ ì§€ ê°€ëŠ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ë³´í†µ &lt;strong&gt;ì´ˆê¸° ë‹¨ê³„&lt;/strong&gt;ì—ì„œëŠ” ë¡œì»¬ ìºì‹œ(Caffeine ë“±)ë¡œ ê°„ë‹¨íˆ ì‹œì‘í•˜ê³ , íŠ¸ë˜í”½ì´ ì¦ê°€í•´ ì„œë²„ë¥¼ ì—¬ëŸ¬ ëŒ€ ë„ìš°ëŠ” ìˆœê°„ &lt;strong&gt;ë¶„ì‚° ìºì‹œ(Redis)&lt;/strong&gt; ë¡œ ì „í™˜í•˜ëŠ” ì „ëµì´ ê°€ì¥ í•©ë¦¬ì ì´ë‹¤.&lt;/p&gt;
&lt;p&gt;ì‹¤ì œë¡œ Springì—ì„œë„ &lt;code&gt;@Cacheable&lt;/code&gt; ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì€ ìºì‹œ ì¶”ìƒí™”ë¥¼ ì œê³µí•´ &lt;strong&gt;ë¡œì»¬ â†” ë¶„ì‚° ìºì‹œ ì „í™˜ì´ ìš©ì´&lt;/strong&gt;í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆë‹¤.&lt;/p&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;
&lt;div class="admonition tip"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"&gt;&lt;path d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2c0 0 0 0 0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4c0 0 0 0 0 0c19.8 27.1 39.7 54.4 49.2 86.2l160 0zM192 512c44.2 0 80-35.8 80-80l0-16-160 0 0 16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"/&gt;&lt;/svg&gt;
&lt;span&gt;Tip&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;ì§€ê¸ˆ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” â€œì†ë„&amp;quot;ê°€ ì¤‘ìš”í•œê°€, â€œê·œëª¨ì™€ ì¼ê´€ì„±â€**ì´ ì¤‘ìš”í•œê°€?&lt;/p&gt;
&lt;p&gt;ì´ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì´ ë¡œì»¬ vs ë¶„ì‚° ìºì‹œ ì„ íƒì˜ ì‹œì‘ì ì´ë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;í”„ë¡œì íŠ¸ ì´ˆë°˜ì—ëŠ” ë¡œì»¬ ìºì‹œë¡œ ì¶©ë¶„í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ &lt;strong&gt;íŠ¸ë˜í”½ ì¦ê°€Â·ìˆ˜í‰ í™•ì¥Â·ë°ì´í„° ì¼ê´€ì„± ìš”êµ¬&lt;/strong&gt;ê°€ ìƒê¸°ëŠ” ìˆœê°„ ë¶„ì‚° ìºì‹œë¡œ ì „í™˜í•´ì•¼ í•œë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ìºì‹œì˜ ê¸°ë³¸ ë™ì‘ ì›ë¦¬ (Cache Hit / Cache Miss)&lt;/li&gt;
&lt;li&gt;Spring Cache ì¶”ìƒí™” (&lt;code&gt;@Cacheable&lt;/code&gt;, &lt;code&gt;@CachePut&lt;/code&gt;, &lt;code&gt;@CacheEvict&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Redis, Memcached ê°™ì€ ì¸ë©”ëª¨ë¦¬ DBì˜ ê°œë…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://docs.spring.io/spring-framework/reference/integration/cache.html" target="_blank" rel="noopener"
&gt;Spring Framework Docs - Caching Abstraction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://redis.io/docs/" target="_blank" rel="noopener"
&gt;Redis ê³µì‹ ë¬¸ì„œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://github.com/ben-manes/caffeine" target="_blank" rel="noopener"
&gt;Caffeine Cache GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;PostgreSQLì˜ ìºì‹œ í™œìš© ë° ì¿¼ë¦¬ ìµœì í™”&lt;/li&gt;
&lt;li&gt;AWS ElastiCache&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Race condition ë¿Œë¦¬ë¶€í„° ì¡ê¸°</title><link>https://blog.b9f1.com/p/2025-08-16-from-the-basics-of-race-condition/</link><pubDate>Sat, 16 Aug 2025 00:00:00 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-08-16-from-the-basics-of-race-condition/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;íŠ¸ë˜í”½ì´ ë‘ ë°°ê°€ ë˜ëŠ” ìˆœê°„, ê°€ì¥ ë¨¼ì € í„°ì§€ëŠ” ê±´ &lt;strong&gt;ì„±ëŠ¥&lt;/strong&gt;ì´ ì•„ë‹ˆë¼ &lt;strong&gt;ì •í•©ì„±&lt;/strong&gt;ì´ë‹¤.&lt;/p&gt;
&lt;p&gt;ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì˜ ëŒ€í‘œì  ë³µë³‘ &lt;strong&gt;ê²½ìŸ ìƒíƒœ(Race Condition)&lt;/strong&gt; ëŠ” ì¬í˜„ë„ ì–´ë µê³  í•œ ë²ˆ ìƒˆë©´ ë°ì´í„° ì‹ ë¢°ë„ê°€ ë¬´ë„ˆì§„ë‹¤.&lt;/p&gt;
&lt;p&gt;ìš´ì˜ í™˜ê²½ì—ì„œ ë¹ˆë²ˆí•˜ê²Œ ë§ˆì£¼ì¹˜ëŠ” &lt;strong&gt;ê²½ìŸ ìƒíƒœì˜ ì›ì¸&lt;/strong&gt;, &lt;strong&gt;ì¬í˜„ íŒ¨í„´&lt;/strong&gt;, &lt;strong&gt;í•´ê²° ì „ëµì˜ ìš°ì„ ìˆœìœ„&lt;/strong&gt;ë¥¼ ì •ë¦¬í•œë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="ê²½ìŸ-ìƒíƒœë€-ë¬´ì—‡ì¸ê°€"&gt;ê²½ìŸ ìƒíƒœë€ ë¬´ì—‡ì¸ê°€?
&lt;/h3&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;ì •ì˜&lt;br&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ &lt;strong&gt;ê³µìœ  ìƒíƒœ(shared state)&lt;/strong&gt; ë¥¼ ë™ì‹œì— ì½ê³ /ì“°ê¸° í•˜ë©° ì‹¤í–‰ íƒ€ì´ë°ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ìƒí™©.&lt;br&gt;
í•µì‹¬ ì›ì¸ ì¶•: &lt;strong&gt;AVR&lt;/strong&gt; - Atomicity(ì›ìì„±), Visibility(ê°€ì‹œì„±), Reordering(ì¬ë°°ì¹˜).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Atomicity&lt;/strong&gt;: &lt;code&gt;x = x + 1&lt;/code&gt; ê°™ì€ RMW(Readâ€“Modifyâ€“Write) ì—°ì‚°ì´ ì¤‘ê°„ì— ë¼ì–´ë“¤ê¸°ë¡œ ê¹¨ì§€ë©´ì„œ lost update ë°œìƒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Visibility&lt;/strong&gt;: í•œ ìŠ¤ë ˆë“œì˜ ì“°ê¸°ê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ëŠ¦ê²Œ ë³´ì—¬ stale value(ì˜¤ë˜ëœ ê°’) ê´€ì¸¡, ì˜ëª»ëœ ë¶„ê¸°
&lt;ul&gt;
&lt;li&gt;stale value: ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ìµœì‹  ê°’ì„ ì¼ìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , ìºì‹œ/ë ˆì§€ìŠ¤í„° ë“± ì¤‘ê°„ ê³„ì¸µì— ë‚¨ì•„ìˆë˜ &lt;strong&gt;ì´ì „ ê°’&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ì´ ë•Œë¬¸ì— &lt;strong&gt;ì¤‘ë³µ ë° ëˆ„ë½&lt;/strong&gt;ë¿ ì•„ë‹ˆë¼ &lt;code&gt;if (value==0)&lt;/code&gt; ê°™ì€ &lt;strong&gt;ì¡°ê±´ ë¶„ê¸° ì˜¤ë¥˜&lt;/strong&gt;ê°€ ë°œìƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Reordering&lt;/strong&gt;: CPU out-of-order ì‹¤í–‰ì´ë‚˜ JIT ìµœì í™”ë¡œ happens-before ìˆœì„œê°€ ë¬´ë„ˆì§&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ìœ„í—˜-ì‹ í˜¸ì™€-ì¬í˜„-íŒ¨í„´"&gt;ìœ„í—˜ ì‹ í˜¸ì™€ ì¬í˜„ íŒ¨í„´
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ì¦ìƒ&lt;/strong&gt;: ì¹´ìš´í„° ë¶ˆì¼ì¹˜, ì¤‘ë³µ/ëˆ„ë½, â€œê°€ë”â€ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸, ìš´ì˜ í™˜ê²½ì—ì„œë§Œ ë‚˜íƒ€ë‚˜ëŠ” ë²„ê·¸(Heisenbug)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;íŒ¨í„´&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;if(ì—†ìœ¼ë©´ ì €ì¥)&lt;/code&gt; í›„ put (TOCTOU)&lt;/li&gt;
&lt;li&gt;ìºì‹œ ì´ˆê¸°í™” ë™ì‹œ ì ‘ê·¼&lt;/li&gt;
&lt;li&gt;í†µê³„ ì¹´ìš´í„° ì¦ê°€&lt;/li&gt;
&lt;li&gt;ì˜ëª»ëœ Lazy init&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;Heisenbug&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;í•˜ì´ì  ë²„ê·¸ëŠ” í”„ë¡œê·¸ë˜ë°ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ë•Œ ë°œìƒë˜ëŠ” ë²„ê·¸ì˜ í˜•íƒœ ì¤‘ì˜ í•˜ë‚˜ë¡œì„œ ë¬¸ì œë¥¼ ë°œê²¬í•˜ê³  ìˆ˜ì •í•˜ê¸° ìœ„í•œ ë””ë²„ê¹…ì„ ìˆ˜í–‰í•˜ë ¤ê³  í•˜ë©´ ë¬¸ì œì ì´ ì‚¬ë¼ì§€ëŠ” í˜•íƒœì˜ ë²„ê·¸ë¥¼ ë§í•œë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;TOCTOU (Time Of Check to Time Of Use)&lt;br&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;ê²€ì‚¬ ì‹œì ê³¼ ì‚¬ìš© ì‹œì  ì‚¬ì´ì˜ í‹ˆìƒˆì—ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ìƒíƒœë¥¼ ë°”ê¿” &lt;strong&gt;ì˜ˆìƒì¹˜ ëª»í•œ ë²„ê·¸ ë° ë³´ì•ˆ ì·¨ì•½ì &lt;/strong&gt;ì„ ìœ ë°œí•˜ëŠ” &lt;strong&gt;í´ë˜ì‹ ê²½ìŸ ì¡°ê±´ ìœ í˜•&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="ìµœì†Œ-ì˜ˆì œë¡œ-ë³´ëŠ”-ë²„ê·¸"&gt;ìµœì†Œ ì˜ˆì œë¡œ ë³´ëŠ” ë²„ê·¸
&lt;/h3&gt;
&lt;div class="admonition warning"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/&gt;&lt;/svg&gt;
&lt;span&gt;ì›ìì ì´ì§€ ì•Šì€ ì—°ì‚°&lt;br&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;&lt;code&gt;value++&lt;/code&gt; ëŠ” ë‹¨ì¼ ì—°ì‚°ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, JVM ë°”ì´íŠ¸ì½”ë“œ ë ˆë²¨ì—ì„œëŠ” &lt;code&gt;getfield&lt;/code&gt; â†’ &lt;code&gt;iconst_1&lt;/code&gt; â†’ &lt;code&gt;iadd&lt;/code&gt; â†’ &lt;code&gt;putfield&lt;/code&gt; ë¡œ ë¶„í•´ëœë‹¤.
ì¤‘ê°„ì— ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë¼ì–´ë“¤ì–´ lost update ë°œìƒ. &lt;code&gt;volatile&lt;/code&gt;ì€ ê°€ì‹œì„±ë§Œ ë³´ì¥í•´ë„ ì›ìì„±ì€ ë³´ì¥ ëª» í•œë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;BrokenCounter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;private&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// ê²½ìŸ ìƒíƒœ&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="ë°”ì´íŠ¸ì½”ë“œ-ê´€ì í•„ë“œ-ì¦ê°€"&gt;ë°”ì´íŠ¸ì½”ë“œ ê´€ì (í•„ë“œ ì¦ê°€)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;getfield value&lt;/code&gt; â†’ &lt;code&gt;iconst_1&lt;/code&gt; â†’ &lt;code&gt;iadd&lt;/code&gt; â†’ &lt;code&gt;putfield value&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ë‹¨ì¼ ì—°ì‚°ì´ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ëª…ë ¹ì–´ë¡œ ë¶„í•´ë¨ â†’ ì›ìì„± ê¹¨ì§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="interleaving-ì˜ˆ-ë‘-ìŠ¤ë ˆë“œ"&gt;Interleaving ì˜ˆ (ë‘ ìŠ¤ë ˆë“œ)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ë‘ ë²ˆ ì¦ê°€ ì˜ë„ â†’ ìµœì¢… ê°’ 1 (í•œ ë²ˆë§Œ ë°˜ì˜)&lt;/li&gt;
&lt;li&gt;DBì˜ &lt;strong&gt;Lost Update anomaly&lt;/strong&gt;ì™€ ë™ì¼í•œ ë¬¸ì œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ê°€ì‹œì„±ê¹Œì§€-ì–½íˆë©´-ë”-ìœ„í—˜"&gt;ê°€ì‹œì„±ê¹Œì§€ ì–½íˆë©´ ë” ìœ„í—˜
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;A ìŠ¤ë ˆë“œê°€ &lt;code&gt;1&lt;/code&gt; ì €ì¥í•´ë„, B ìŠ¤ë ˆë“œëŠ” ìºì‹œ coherence ì§€ì—°ìœ¼ë¡œ ì—¬ì „íˆ &lt;code&gt;0&lt;/code&gt;(stale value) ê´€ì¸¡&lt;/li&gt;
&lt;li&gt;ê²°ê³¼:
&lt;ol&gt;
&lt;li&gt;ì¹´ìš´í„° ì¤‘ë³µÂ·ëˆ„ë½&lt;/li&gt;
&lt;li&gt;ì¡°ê±´ ë¶„ê¸° ì˜¤ë¥˜ (ì˜ˆ: &lt;code&gt;if (get()==0) init()&lt;/code&gt;ì´ ì¤‘ë³µ ì‹¤í–‰)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ì™œ-volatileë¡œ-í•´ê²°ë˜ì§€-ì•Šë‚˜"&gt;ì™œ &lt;code&gt;volatile&lt;/code&gt;ë¡œ í•´ê²°ë˜ì§€ ì•Šë‚˜?
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;volatile&lt;/code&gt;ì€ ê°€ì‹œì„±(Visibility)ê³¼ ì¬ë°°ì¹˜(Reordering) ë°©ì§€ ì¼ë¶€ë¥¼ ë³´ì¥í•œë‹¤.&lt;/li&gt;
&lt;li&gt;í•˜ì§€ë§Œ &lt;code&gt;value++&lt;/code&gt; ê°™ì€ RMW ì›ìì„±ì€ ë³´ì¥ ëª» í•¨&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;volatile&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;inc&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// ì—¬ì „íˆ lost update ê°€ëŠ¥&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="í•´ê²°-ì „ëµ-ë½ë³´ë‹¤-ì„¤ê³„ê°€-ë¨¼ì €"&gt;í•´ê²° ì „ëµ: ë½ë³´ë‹¤ ì„¤ê³„ê°€ ë¨¼ì €
&lt;/h3&gt;&lt;h4 id="ìƒíƒœ-ìì²´ë¥¼-ì¤„ì—¬ë¼"&gt;ìƒíƒœ ìì²´ë¥¼ ì¤„ì—¬ë¼
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ë¶ˆë³€ ê°ì²´(Immutable), Copy-on-Write, ë©”ì‹œì§€ íŒ¨ì‹±/Actor ëª¨ë¸, ì´ë²¤íŠ¸ ë£¨í”„&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ìŠ¤ë ˆë“œ-ì»¨íŒŒì¸ë¨¼íŠ¸"&gt;ìŠ¤ë ˆë“œ ì»¨íŒŒì¸ë¨¼íŠ¸
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ThreadLocal&lt;/code&gt;, í‚¤ íŒŒí‹°ì…”ë‹(ê°™ì€ í‚¤ëŠ” ë™ì¼ ì›Œì»¤ë¡œ)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ì›ì-ì—°ì‚°--ë™ì‹œ-ì»¬ë ‰ì…˜-juc"&gt;ì›ì ì—°ì‚° &amp;amp; ë™ì‹œ ì»¬ë ‰ì…˜ (J.U.C)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;AtomicInteger.incrementAndGet()&lt;/code&gt; (CAS ê¸°ë°˜)
&lt;ul&gt;
&lt;li&gt;CAS(Compare-And-Swap)ëŠ” &lt;strong&gt;ì¬ì‹œë„ ë£¨í”„(spin)&lt;/strong&gt; êµ¬ì¡°ë¡œ ë™ì‘í•œë‹¤. ì¦‰, ê²½ìŸì´ ì‹¬í•˜ë©´ ì¶©ëŒì´ ì¦ì•„ì§€ê³  ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ì €í•˜ë  ìˆ˜ ìˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ê³ ê²½í•© í™˜ê²½ì—” &lt;code&gt;LongAdder&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;ë‚´ë¶€ì ìœ¼ë¡œ ì…€(Cell) ë°°ì—´ì— ë¶„ì‚° ì €ì¥í•˜ì—¬ ìŠ¤ë ˆë“œ ì¶©ëŒì„ ì¤„ì¸ë‹¤.&lt;/li&gt;
&lt;li&gt;ì£¼ê¸°ì  ì§‘ê³„ë¥¼ í†µí•´ ìµœì¢… ê°’ì„ ê³„ì‚° â†’ CAS ì¶©ëŒ ë³‘ëª©ì´ ì ìŒ.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ConcurrentHashMap.computeIfAbsent/merge&lt;/code&gt;ë¡œ TOCTOU ì œê±°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;CASì™€ ì„±ëŠ¥&lt;br&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;CASëŠ” ì‹¤íŒ¨ ì‹œ ë£¨í”„ë¥¼ ëŒë©° ì¬ì‹œë„í•˜ëŠ” &lt;strong&gt;spin ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜&lt;/strong&gt;ì´ë‹¤.
ê²½ìŸì´ ì ì„ ë• ë½ë³´ë‹¤ ë¹ ë¥´ì§€ë§Œ, ê²½ìŸì´ ë§ìœ¼ë©´ ê³„ì† ì¶©ëŒ â†’ ì¬ì‹œë„ë¡œ ì¸í•´ ì˜¤íˆë ¤ ë½ë³´ë‹¤ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.
ì´ ë•Œë¬¸ì— ê³ ê²½í•© ìƒí™©ì—ì„œëŠ” &lt;code&gt;LongAdder&lt;/code&gt; ê°™ì€ ë¶„ì‚° êµ¬ì¡°ê°€ ë” ìœ ë¦¬í•˜ë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="ë™ê¸°í™”-synchronization"&gt;ë™ê¸°í™” (Synchronization)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;synchronized&lt;/code&gt; (ê°„ë‹¨, í™•ì‹¤)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ReentrantLock&lt;/code&gt; (tryLock, íƒ€ì„ì•„ì›ƒ ì§€ì›)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ReadWriteLock&lt;/code&gt;, &lt;code&gt;StampedLock&lt;/code&gt; (ë‚™ê´€ì  ì½ê¸° ì„±ëŠ¥ ê°œì„ )
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;StampedLock&lt;/code&gt;ì˜ &lt;strong&gt;ë‚™ê´€ì  ì½ê¸°&lt;/strong&gt;ëŠ” ì‹¤ì œ ì½ì€ ê°’ì´ ë„ì¤‘ì— ë‹¤ë¥¸ ì“°ê¸°ì— ì˜í•´ ê¹¨ì§€ì§€ ì•Šì•˜ëŠ”ì§€ &lt;code&gt;validate(stamp)&lt;/code&gt; í˜¸ì¶œë¡œ ë°˜ë“œì‹œ ê²€ì¦í•´ì•¼ ì•ˆì „í•˜ë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition info"&gt;
&lt;div class="admonition-header"&gt;&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"&gt;&lt;path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/&gt;&lt;/svg&gt;
&lt;span&gt;StampedLockì˜ validate()&lt;br&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;p&gt;&lt;code&gt;long stamp = lock.tryOptimisticRead();&lt;/code&gt; â†’ ê°’ ì½ê¸° â†’ &lt;code&gt;if (!lock.validate(stamp)) { ...ì¬ì‹œë„... }&lt;/code&gt;
ë‚™ê´€ì  ì½ê¸°ëŠ” ë¬´ì¡°ê±´ ì„±ê³µí•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, ì½ì€ í›„ì— ê²€ì¦(validate)ì„ ë°˜ë“œì‹œ ê±°ì³ì•¼ í•œë‹¤. ê²€ì¦ì´ ì‹¤íŒ¨í•˜ë©´ ì¼ë°˜ì ì¸ ì½ê¸° ë½ì„ ë‹¤ì‹œ ê±¸ì–´ì•¼ í•œë‹¤.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="ê°€ì‹œì„±-ë³´ì¥--ì•ˆì „í•œ-ê²Œì‹œ"&gt;ê°€ì‹œì„± ë³´ì¥ &amp;amp; ì•ˆì „í•œ ê²Œì‹œ
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;volatile&lt;/code&gt; í”Œë˜ê·¸, &lt;code&gt;final&lt;/code&gt; í•„ë“œ&lt;/li&gt;
&lt;li&gt;Safe Publication (ë™ê¸°í™” í†µí•´ ê°ì²´ë¥¼ ê²Œì‹œ)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ë‹¨ì¼-ì‹¤í–‰--ë©±ë“±idempotency"&gt;ë‹¨ì¼ ì‹¤í–‰ &amp;amp; ë©±ë“±(Idempotency)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ë©±ë“± ì„¤ê³„, fencing token(ìˆœì„œ ë³´ì¥ í† í°)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ì‹¤ì „-ì‹œë‚˜ë¦¬ì˜¤ë³„-ì¶”ì²œ-ë ˆì‹œí”¼"&gt;ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤ë³„ ì¶”ì²œ ë ˆì‹œí”¼
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ì‹œë‚˜ë¦¬ì˜¤&lt;/th&gt;
&lt;th&gt;ì¦ìƒ&lt;/th&gt;
&lt;th&gt;í•´ë²•&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ë™ì‹œ ì¹´ìš´íŒ…/ì§€í‘œ&lt;/td&gt;
&lt;td&gt;ì¦ë°œ(Lost update)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LongAdder&lt;/code&gt; â†’ ì£¼ê¸°ì  ì§‘ê³„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Lazy ì´ˆê¸°í™”&lt;/td&gt;
&lt;td&gt;ì¤‘ë³µ ìƒì„±&lt;/td&gt;
&lt;td&gt;&lt;code&gt;computeIfAbsent&lt;/code&gt;, ì´ˆê¸°í™” ì „ìš© ë½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ìºì‹œ í”„ë¦¬ë¡œë“œ&lt;/td&gt;
&lt;td&gt;ì¤‘ë³µ ë¡œë“œ&lt;/td&gt;
&lt;td&gt;í‚¤ íŒŒí‹°ì…”ë‹ + ë‹¨ì¼ ì›Œì»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ì½ê¸° 99%&lt;/td&gt;
&lt;td&gt;ë½ ê²½í•©&lt;/td&gt;
&lt;td&gt;Copy-on-Write, &lt;code&gt;StampedLock&lt;/code&gt; ë‚™ê´€ ì½ê¸°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ê³ ê°€ ì—°ì‚° ì„ê³„êµ¬ì—­&lt;/td&gt;
&lt;td&gt;ì‘ë‹µ ì§€ì—°&lt;/td&gt;
&lt;td&gt;ì„ê³„êµ¬ì—­ ì¶•ì†Œ, ë¶„í•´ë½(í‚¤ë³„ ë½)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;í‚¤ ì¶©ëŒ ì—…ë°ì´íŠ¸&lt;/td&gt;
&lt;td&gt;ì¤‘ë³µÂ·ê²½í•©&lt;/td&gt;
&lt;td&gt;í‚¤ë³„ ë½/Striped Lock, &lt;code&gt;merge&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="ì„±ëŠ¥-vs-ì •í™•ì„±-íŠ¸ë ˆì´ë“œì˜¤í”„"&gt;ì„±ëŠ¥ vs ì •í™•ì„± íŠ¸ë ˆì´ë“œì˜¤í”„
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ì •í™•ì„± ê³ ì •&lt;/strong&gt;: &lt;code&gt;synchronized&lt;/code&gt;/ConcurrentHashMapìœ¼ë¡œ ì •í•©ì„± ìš°ì„  í™•ë³´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;í•«ìŠ¤íŒŸ íŠœë‹&lt;/strong&gt;: ì„ê³„êµ¬ì—­ ì¶•ì†Œ, ìë£Œêµ¬ì¡° êµì²´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë§ˆì§€ë§‰ì—&lt;/strong&gt;: ë½-í”„ë¦¬/ë‚™ê´€ì  ê¸°ë²• ì ìš©&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="í…ŒìŠ¤íŠ¸ê²€ì¦-ì „ëµ"&gt;í…ŒìŠ¤íŠ¸Â·ê²€ì¦ ì „ëµ
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;jcstress&lt;/strong&gt; (OpenJDK ë™ì‹œì„± ê²½ê³„ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;í™•ë¥  í…ŒìŠ¤íŠ¸&lt;/strong&gt; (ìŠ¤ë ˆë“œ ìˆ˜Â·ì½”ì–´ ìˆ˜Â·JVM ì˜µì…˜ ë‹¤ì–‘í™”)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;í˜ì¼íŒ¨ìŠ¤íŠ¸ ê³„ì¸¡&lt;/strong&gt; (ë¶ˆê°€ëŠ¥ ìƒíƒœ assert)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì¥ì‹œê°„ soak test&lt;/strong&gt; (ìš´ì˜ ìœ ì‚¬ í™˜ê²½)&lt;/li&gt;
&lt;li&gt;ì´ëŸ° ë²„ê·¸ëŠ” &lt;strong&gt;Heisenbug&lt;/strong&gt; íŠ¹ì„±ì´ ê°•í•¨ â†’ ë°˜ë“œì‹œ ì¥ê¸°ê°„Â·ë‹¤ì–‘ í™˜ê²½ì—ì„œ ê²€ì¦ í•„ìš”&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ê³µìœ  ìƒíƒœë¥¼ ìµœì†Œí™”í•˜ë¼.&lt;/strong&gt;
ë‚¨ëŠ” ê³µìœ  ìƒíƒœëŠ” ë°˜ë“œì‹œ &lt;strong&gt;J.U.C(java.util.concurrent)&lt;/strong&gt; ì™€ &lt;strong&gt;ëª…ì‹œì  ë™ê¸°í™”&lt;/strong&gt;ë¡œ ë³´í˜¸í•˜ë¼.
ë¨¼ì € ì •í•©ì„±ì„ ë³´ì¥í•˜ê³ , ì´í›„ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ìˆœì„œê°€ ë°”ëŒì§í•˜ë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Java Memory Model(JMM), happens-before&lt;/li&gt;
&lt;li&gt;monitor/synchronized, CAS(compare-and-swap)&lt;/li&gt;
&lt;li&gt;J.U.C(java.util.concurrent): ì›ì í´ë˜ìŠ¤, ë™ì‹œ ì»¬ë ‰ì…˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Java Concurrency in Practice (Brian Goetz)&lt;/li&gt;
&lt;li&gt;Effective Java ë™ì‹œì„± ì•„ì´í…œ&lt;/li&gt;
&lt;li&gt;OpenJDK &lt;strong&gt;jcstress&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Oracle Concurrency íŠœí† ë¦¬ì–¼&lt;/li&gt;
&lt;li&gt;Martin Kleppmann: Idempotency / Exactly-once&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>ì»¨í…ìŠ¤íŠ¸ ì•ˆì „ ì „íŒŒ</title><link>https://blog.b9f1.com/p/2025-08-16-addressing-contextual-information-such-as-mdc-and-securitycontext-in-asynchronous-environments/</link><pubDate>Sat, 16 Aug 2025 00:00:00 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-08-16-addressing-contextual-information-such-as-mdc-and-securitycontext-in-asynchronous-environments/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;ë©€í‹°ìŠ¤ë ˆë“œì™€ ë¹„ë™ê¸° í™˜ê²½ì—ì„œ í”íˆ ì‚¬ìš©í•˜ëŠ” &lt;strong&gt;MDC(Logback Mapped Diagnostic Context)&lt;/strong&gt; ë‚˜ &lt;strong&gt;SecurityContext&lt;/strong&gt; ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ &lt;code&gt;ThreadLocal&lt;/code&gt; ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.&lt;/p&gt;
&lt;p&gt;ë¬¸ì œëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ ë°”ë€ŒëŠ” ìˆœê°„(ì˜ˆ: &lt;code&gt;@Async&lt;/code&gt;, &lt;code&gt;Executor&lt;/code&gt;, &lt;code&gt;CompletableFuture&lt;/code&gt;, Reactor ë“±) ì´ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ê°€ ì‚¬ë¼ì§€ê±°ë‚˜ ëˆ„ë½ë˜ê¸° ì‰½ë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;
&lt;p&gt;ë”°ë¼ì„œ &lt;strong&gt;ë¡œê·¸ ì¶”ì ì„±ê³¼ ë³´ì•ˆ ì¸ì¦ ìƒíƒœë¥¼ ìƒì§€ ì•Šê³  ìŠ¤ë ˆë“œë¥¼ ê±´ë„ˆë›°ì–´ ì „íŒŒí•˜ëŠ” ë°©ë²•&lt;/strong&gt;ì´ í•„ìš”í•˜ë‹¤.
ì„œë¸”ë¦¿ ê¸°ë°˜(Spring MVC + @Async/Executor/CompletableFuture)ê³¼ ë¦¬ì•¡í‹°ë¸Œ ê¸°ë°˜(Reactor/WebFlux)ì—ì„œ ê°ê° ì»¨í…ìŠ¤íŠ¸ë¥¼ ì•ˆì „í•˜ê²Œ ì „ë‹¬í•˜ëŠ” ì‹¤ì „ íŒ¨í„´ì„ ì‚´í´ë³¸ë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="ì™œ-ì‚¬ë¼ì§€ë‚˜-threadlocalì˜-ë³¸ì§ˆ"&gt;ì™œ ì‚¬ë¼ì§€ë‚˜? &lt;code&gt;ThreadLocal&lt;/code&gt;ì˜ ë³¸ì§ˆ
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MDC(Logback MDC)&lt;/strong&gt;, &lt;strong&gt;SecurityContextHolder&lt;/strong&gt;ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ &lt;code&gt;ThreadLocal&lt;/code&gt; ê¸°ë°˜ì´ë‹¤.&lt;/li&gt;
&lt;li&gt;ì‘ì—…ì´ &lt;strong&gt;ë‹¤ë¥¸ ìŠ¤ë ˆë“œ&lt;/strong&gt;(ìŠ¤ë ˆë“œí’€, ForkJoin)ì—ì„œ ì‹¤í–‰ë˜ë©´ ê°’ì´ ë¹„ì–´ ìˆê±°ë‚˜ &lt;strong&gt;ì´ì „ ìš”ì²­ì˜ ì“°ë ˆê¸° ê°’&lt;/strong&gt;ì´ ë‚¨ì„ ìˆ˜ ìˆë‹¤(ìŠ¤ë ˆë“œ ì¬ì‚¬ìš©).&lt;/li&gt;
&lt;li&gt;í•´ê²° í•µì‹¬: &lt;strong&gt;(ìº¡ì²˜) â†’ (ì „íŒŒ) â†’ (ì •ë¦¬)&lt;/strong&gt; ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ëª…ì‹œí•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ì„œë¸”ë¦¿ë™ê¸°ë¹„ë™ê¸°-ìŠ¤íƒ-6ê°€ì§€-ì •ì„-íŒ¨í„´"&gt;ì„œë¸”ë¦¿(ë™ê¸°/ë¹„ë™ê¸°) ìŠ¤íƒ: 6ê°€ì§€ ì •ì„ íŒ¨í„´
&lt;/h3&gt;&lt;h4 id="a-runnablecallable-ë˜í•‘í•µì‹¬-ì›ë¦¬"&gt;A. &lt;code&gt;Runnable/Callable&lt;/code&gt; ë˜í•‘(í•µì‹¬ ì›ë¦¬)
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MdcPropagatingRunnable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;implements&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Runnable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;private&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;final&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Runnable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;delegate&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;private&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;final&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Map&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;captured&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MdcPropagatingRunnable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Runnable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;delegate&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;delegate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;delegate&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;captured&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getCopyOfContextMap&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nd"&gt;@Override&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Map&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getCopyOfContextMap&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;captured&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setContextMap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;captured&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;delegate&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;run&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;finally&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setContextMap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ìº¡ì²˜ â†’ set â†’ ì‹¤í–‰ â†’ ë³µì›/clear&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SecurityContext&lt;/code&gt;ë„ ë™ì¼ ì›ë¦¬ë¡œ ì ìš© ê°€ëŠ¥.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="b-taskdecoratorë¡œ-ì „ì—­-ì ìš©asyncthreadpooltaskexecutor"&gt;B. &lt;code&gt;TaskDecorator&lt;/code&gt;ë¡œ ì „ì—­ ì ìš©(@Async/ThreadPoolTaskExecutor)
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nd"&gt;@Bean&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;TaskDecorator&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;mdcTaskDecorator&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Runnable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MdcPropagatingRunnable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nd"&gt;@Bean&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Executor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;taskExecutor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TaskDecorator&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;decorator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ThreadPoolTaskExecutor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ThreadPoolTaskExecutor&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setTaskDecorator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;decorator&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;initialize&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ex&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ì¥ì : &lt;code&gt;@Async&lt;/code&gt;, &lt;code&gt;CompletableFuture&lt;/code&gt;, ì»¤ìŠ¤í…€ &lt;code&gt;Executor&lt;/code&gt; ëª¨ë‘ &lt;strong&gt;ìë™ ì „íŒŒ&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="c-spring-security-ì „íŒŒ-ì „ìš©-ìœ í‹¸"&gt;C. Spring Security ì „íŒŒ ì „ìš© ìœ í‹¸
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Executor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;delegate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Executors&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;newFixedThreadPool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;8&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Executor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;secExecutor&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;DelegatingSecurityContextExecutor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;delegate&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;secExecutor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;execute&lt;/span&gt;&lt;span class="p"&gt;(()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cm"&gt;/* SecurityContext ë³´ì¡´ë¨ */&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;DelegatingSecurityContext*&lt;/code&gt;&lt;/strong&gt; ê³„ì—´(Executor, ExecutorService, Runnable, Callable)ì„ ì‚¬ìš©í•˜ë©´ &lt;strong&gt;ì¸ì¦ ì»¨í…ìŠ¤íŠ¸ë§Œ&lt;/strong&gt; í™•ì‹¤íˆ ì „ë‹¬ëœë‹¤.&lt;/li&gt;
&lt;li&gt;MDCë„ í•„ìš”í•˜ë©´ B íŒ¨í„´ê³¼ &lt;strong&gt;ì¡°í•©&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="d-securitycontextholder-ì „ëµ-ì˜µì…˜"&gt;D. &lt;code&gt;SecurityContextHolder&lt;/code&gt; ì „ëµ ì˜µì…˜
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;SecurityContextHolder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setStrategyName&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;SecurityContextHolder&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;MODE_INHERITABLETHREADLOCAL&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ìì‹ ìŠ¤ë ˆë“œ&lt;/strong&gt;ì— í•œí•´ ìƒì†.&lt;/li&gt;
&lt;li&gt;í•œê³„: &lt;strong&gt;ìŠ¤ë ˆë“œí’€ ì¬ì‚¬ìš©&lt;/strong&gt;ê³¼ëŠ” ë§ì§€ ì•ŠëŠ”ë‹¤(â€œìƒˆë¡œ ë§Œë“  ìì‹ ìŠ¤ë ˆë“œâ€ë§Œ ìƒì†).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="e-completablefutureì—ì„œì˜-ì£¼ì˜"&gt;E. &lt;code&gt;CompletableFuture&lt;/code&gt;ì—ì„œì˜ ì£¼ì˜
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getCopyOfContextMap&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;CompletableFuture&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;supplyAsync&lt;/span&gt;&lt;span class="p"&gt;(()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setContextMap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;doWork&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;finally&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;taskExecutor&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ê¸°ë³¸ ê³µê¸‰ìëŠ” &lt;strong&gt;ForkJoinPool&lt;/strong&gt; â†’ ë¬¸ë§¥ ìœ ì‹¤. í•­ìƒ &lt;strong&gt;ì „íŒŒ ê°€ëŠ¥í•œ Executor&lt;/strong&gt;ì™€ &lt;strong&gt;ëª…ì‹œì  set/clear&lt;/strong&gt; ì‚¬ìš©.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="f-ì‘ì—…-ì¢…ë£Œ-ì‹œ-ì •ë¦¬clean-up-ëŠ”-ì˜ë¬´"&gt;F. ì‘ì—… ì¢…ë£Œ ì‹œ &lt;strong&gt;ì •ë¦¬(clean-up)&lt;/strong&gt; ëŠ” ì˜ë¬´
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ì‹¤íŒ¨, ì·¨ì†Œ ì¼€ì´ìŠ¤ê¹Œì§€ &lt;strong&gt;finallyì—ì„œ clear/ë³µì›&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ &lt;strong&gt;ì»¨í…ìŠ¤íŠ¸ ëˆ„ìˆ˜&lt;/strong&gt;ë¡œ ë‹¤ë¥¸ ìš”ì²­ ë¡œê·¸ê°€ ì˜¤ì—¼ëœë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë¦¬ì•¡í‹°ë¸Œreactorwebflux-ìŠ¤íƒ-ì»¨í…ìŠ¤íŠ¸ëŠ”-ë°ì´í„°ë‹¤"&gt;ë¦¬ì•¡í‹°ë¸Œ(Reactor/WebFlux) ìŠ¤íƒ: ì»¨í…ìŠ¤íŠ¸ëŠ” ë°ì´í„°ë‹¤
&lt;/h3&gt;&lt;h4 id="a-securitycontext-ë¦¬ì•¡í‹°ë¸Œ-ì „ìš©-api-ì‚¬ìš©"&gt;A. SecurityContext ë¦¬ì•¡í‹°ë¸Œ ì „ìš© API ì‚¬ìš©
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ì¸ì¦ì€ &lt;code&gt;ReactiveSecurityContextHolder&lt;/code&gt;ë¥¼ í†µí•´ Reactor &lt;strong&gt;Context&lt;/strong&gt;ì— ì €ì¥/ì¡°íšŒ.&lt;/li&gt;
&lt;li&gt;ì˜ˆ) WebFilterì—ì„œ &lt;code&gt;contextWrite&lt;/code&gt;ë¡œ ì£¼ì…, ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ì—ì„œ ìë™ ì‚¬ìš©.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="b-mdc-reactor-context-mdc-ë¸Œë¦¬ì§•"&gt;B. MDC Reactor Context, MDC ë¸Œë¦¬ì§•
&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// ì»¨í…ìŠ¤íŠ¸ í‚¤ ì •ì˜&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;record&lt;/span&gt; &lt;span class="nc"&gt;TraceCtx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;traceId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;final&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;KEY&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;#34;TRACE&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// ì»¨í…ìŠ¤íŠ¸ ì£¼ì…&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;Mono&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;deferContextual&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ctxView&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;TraceCtx&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ctxView&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TraceCtx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;KEY&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Mono&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;fromRunnable&lt;/span&gt;&lt;span class="p"&gt;(()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;trace={}&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;traceId&lt;/span&gt;&lt;span class="p"&gt;()));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;})&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;contextWrite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TraceCtx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;KEY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;TraceCtx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;abc-123&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)));&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// ê³µí†µ ë¸Œë¦¬ì§• ì—°ì‚°ì(ì˜ˆì‹œ)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kd"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Publisher&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Publisher&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;mdc&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Flux&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;from&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pub&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="na"&gt;doOnEach&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;isOnNext&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;isOnError&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;isOnComplete&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getContextView&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;traceId&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getOrDefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TraceCtx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;KEY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;TraceCtx&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;-&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)).&lt;/span&gt;&lt;span class="na"&gt;traceId&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ignored&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MDC&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;putCloseable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;traceId&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;traceId&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// MDCëŠ” ì´ ì‹œì  ë¡œê¹…ì—ë§Œ ë°˜ì˜ë¨&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getType&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;SignalType&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;ON_NEXT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="na"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;processing...&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;í•µì‹¬: Reactor ë¡œê·¸ëŠ” &lt;strong&gt;ì‹œê·¸ë„ ìˆœê°„ì—ë§Œ&lt;/strong&gt; MDCì— ë„£ê³  ì¦‰ì‹œ ë‹«ëŠ”ë‹¤(&lt;code&gt;MDC.putCloseable&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;ì¥ì : ìŠ¤ë ˆë“œ hopsê°€ ì¦ì•„ë„ &lt;strong&gt;ì˜¤ì—¼, ëˆ„ìˆ˜ ì—†ìŒ&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;ë¦¬ì•¡í„° ì²´ì¸ ê°€ì¥ ë°”ê¹¥ì—ì„œ &lt;code&gt;transform(mdc())&lt;/code&gt;ë¡œ í•œ ë²ˆë§Œ ì ìš©.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë¬´ì—‡ì„-ì–¸ì œ-ì‚¬ìš©í•˜ëŠ”-ê²Œ-ì¢‹ì„ê¹Œ"&gt;ë¬´ì—‡ì„ ì–¸ì œ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì„ê¹Œ
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ìƒí™©&lt;/th&gt;
&lt;th&gt;ê¶Œì¥ íŒ¨í„´&lt;/th&gt;
&lt;th&gt;ë¹„ê³ &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Spring MVC + &lt;code&gt;@Async&lt;/code&gt;/&lt;code&gt;Executor&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;TaskDecorator(B)&lt;/strong&gt; + í•„ìš” ì‹œ &lt;strong&gt;DelegatingSecurityContext(C)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì „ì—­ ì¼ê´€ì„±, ì ìš© ì‰¬ì›€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ë‹¨ë°œ ì»¤ìŠ¤í…€ ìŠ¤ì¼€ì¤„ëŸ¬/ì“°ë ˆë“œ&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Runnable/Callable ë˜í•‘(A)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ìµœì†Œ ì˜¤ë²„í—¤ë“œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;CompletableFuture&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ì „íŒŒ ê°€ëŠ¥í•œ Executor&lt;/strong&gt; + &lt;strong&gt;ëª…ì‹œì  set/clear(E)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ForkJoinPool ì§€ì–‘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ìì‹ ìŠ¤ë ˆë“œë§Œ ìƒì„±&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;INHERITABLETHREADLOCAL(D)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;í’€ ì¬ì‚¬ìš© í™˜ê²½ì— ë¶€ì í•©&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WebFlux/Reactor&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ReactiveSecurityContextHolder&lt;/strong&gt; + &lt;strong&gt;MDC ë¸Œë¦¬ì§•(B ë¦¬ì•¡í‹°ë¸ŒíŒ)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ThreadLocal ì§ì ‘ ì ‘ê·¼ ê¸ˆì§€&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="ì²´í¬ë¦¬ìŠ¤íŠ¸"&gt;ì²´í¬ë¦¬ìŠ¤íŠ¸
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ìº¡ì²˜ ì‹œì &lt;/strong&gt;ì€ ìš”ì²­ ì…êµ¬(í•„í„°/ì¸í„°ì…‰í„°/ì›¹í•„í„°)ì—ì„œ.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì „íŒŒ ì±…ì„&lt;/strong&gt;ì€ ìŠ¤ì¼€ì¤„ë§/ì‹¤í–‰ ì‹œì (Executor/ì—°ì‚°ì)ì—ì„œ.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì •ë¦¬&lt;/strong&gt;ëŠ” í•­ìƒ &lt;code&gt;finally&lt;/code&gt; ë˜ëŠ” &lt;code&gt;try-with-resources(MDC.putCloseable)&lt;/code&gt;ë¡œ.&lt;/li&gt;
&lt;li&gt;í’€ í¬ê¸°, í ì ì¬ëŸ‰ì„ ì¡°ì •í•´ &lt;strong&gt;ì»¨í…ìŠ¤íŠ¸ ìŠ¤ì™€í•‘ ë¹„ìš©&lt;/strong&gt;ì„ ìµœì†Œí™”.&lt;/li&gt;
&lt;li&gt;ì„±ëŠ¥ ë¯¼ê° êµ¬ê°„ì—ì„  &lt;strong&gt;í•„ë“œí˜• ì¶”ì  ID&lt;/strong&gt;(ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬)ë„ ê³ ë ¤ â€” ì˜¤ë²„í—¤ë“œì™€ ê°€ë…ì„±ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="ìº¡ì²˜-ì „íŒŒ-ì •ë¦¬-ì‹œê°í™”"&gt;ìº¡ì²˜, ì „íŒŒ, ì •ë¦¬ ì‹œê°í™”
&lt;/h3&gt;&lt;div class="mermaid-container zoomable"&gt;
&lt;pre class="mermaid"&gt;
sequenceDiagram
participant IN as Request Inbound
participant CAP as Capture
participant EXEC as Executor
participant RUN as Task
IN-&gt;&gt;CAP: traceId, auth ìº¡ì²˜
CAP-&gt;&gt;EXEC: Runnable/Callable ë˜í•‘
EXEC-&gt;&gt;RUN: set(MDC, SecurityContext)
RUN--&gt;&gt;EXEC: finally { clear()/restore() }
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;p&gt;ë¹„ë™ê¸°ì˜ ë³¸ì§ˆì€ &lt;strong&gt;ìŠ¤ë ˆë“œ ì´ë™&lt;/strong&gt;ì´ê³ , í•´ë²•ì˜ ë³¸ì§ˆì€ &lt;strong&gt;ìº¡ì²˜-ì „íŒŒ-ì •ë¦¬ì˜ ê·œìœ¨&lt;/strong&gt;ì´ë‹¤.
ì´ ì›ì¹™ë§Œ ì§€í‚¤ë©´ &lt;code&gt;MDC&lt;/code&gt;ì™€ &lt;code&gt;SecurityContext&lt;/code&gt;ëŠ” ì–´ëŠ ì‹¤í–‰ ëª¨ë¸ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ThreadLocalê³¼ ìŠ¤ë ˆë“œí’€ ì¬ì‚¬ìš© ëª¨ë¸&lt;/li&gt;
&lt;li&gt;Logback MDC ê¸°ë³¸ ì‚¬ìš©ë²• (&lt;code&gt;MDC.put&lt;/code&gt;, &lt;code&gt;MDC.clear&lt;/code&gt;, &lt;code&gt;MDC.putCloseable&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Spring Security: &lt;code&gt;SecurityContextHolder&lt;/code&gt;, &lt;code&gt;Authentication&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Reactorì˜ &lt;code&gt;Context&lt;/code&gt;ì™€ ì‹ í˜¸(ì‹œê·¸ë„) ê¸°ë°˜ í›…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Spring Security: &lt;code&gt;DelegatingSecurityContextExecutor&lt;/code&gt;, &lt;code&gt;DelegatingSecurityContextCallable/Runnable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Spring Framework: &lt;code&gt;TaskDecorator&lt;/code&gt;, &lt;code&gt;ThreadPoolTaskExecutor&lt;/code&gt;, &lt;code&gt;@Async&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Reactor: &lt;code&gt;Context&lt;/code&gt;, &lt;code&gt;contextWrite&lt;/code&gt;, &lt;code&gt;doOnEach&lt;/code&gt;, &lt;code&gt;SignalType&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ë¡œê¹…: ë¶„ì‚° íŠ¸ë ˆì´ì‹±(TraceId/SpanId)ì™€ MDC ì—°ë™, &lt;code&gt;MDC.putCloseable&lt;/code&gt; í™œìš© íŒ¨í„´&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>JWT êµ¬ì¡°ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì•Œì•„ë³´ì</title><link>https://blog.b9f1.com/p/2025-08-05-lets-find-out-the-structure-and-each-component-of-json-web-token-in-detail/</link><pubDate>Tue, 05 Aug 2025 01:58:05 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-08-05-lets-find-out-the-structure-and-each-component-of-json-web-token-in-detail/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;ìµœê·¼ ë°±ì—”ë“œ ì¸ì¦/ì¸ê°€ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê±°ë‚˜ OAuth 2.0 ê¸°ë°˜ì˜ ë¡œê·¸ì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ë•Œ ê°€ì¥ ë§ì´ ë“±ì¥í•˜ëŠ” í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ê°€ &lt;code&gt;JWT(JSON Web Token)&lt;/code&gt;ì´ë‹¤.&lt;/p&gt;
&lt;p&gt;JWTì˜ &lt;strong&gt;3ë‹¨ê³„ êµ¬ì¡°&lt;/strong&gt;ë¥¼ ì •í™•íˆ ì´í•´í•˜ê³ , ê° êµ¬ì„± ìš”ì†Œê°€ ì™œ ì¡´ì¬í•˜ëŠ”ì§€, ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ ì˜ˆì œë¥¼ í†µí•´ ìƒì„¸íˆ ì•Œì•„ë³¸ë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;p&gt;JWTëŠ” ê¸°ë³¸ì ìœ¼ë¡œ &lt;strong&gt;ì„¸ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœ ë¬¸ìì—´&lt;/strong&gt;ì´ë‹¤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Header&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;.&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Payload&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;.&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Signature&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ê°ê°ì˜ ì˜ë¯¸ë¥¼ ëœ¯ì–´ë³´ì.&lt;/p&gt;
&lt;h3 id="1-header-í—¤ë”"&gt;1. Header (í—¤ë”)
&lt;/h3&gt;&lt;p&gt;ì´ ë¶€ë¶„ì€ &lt;strong&gt;í† í°ì„ ì–´ë–»ê²Œ ê²€ì¦í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ë©”íƒ€ ì •ë³´&lt;/strong&gt;ë¥¼ ì œê³µí•œë‹¤.
Base64Urlë¡œ ì¸ì½”ë”©ë˜ì–´ í† í°ì˜ ì²« ë²ˆì§¸ íŒŒíŠ¸ë¥¼ êµ¬ì„±í•œë‹¤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;alg&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;HS256&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;typ&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;JWT&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;alg&lt;/code&gt;(algorithm): í† í° ì„œëª…ì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ì„ ëª…ì‹œ. ë³´í†µ &lt;code&gt;HS256&lt;/code&gt; ë˜ëŠ” &lt;code&gt;RS256&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;typ&lt;/code&gt;(type): í† í°ì˜ íƒ€ì…ì„ ë‚˜íƒ€ëƒ„. JWTë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° &lt;code&gt;&amp;quot;JWT&amp;quot;&lt;/code&gt;ë¡œ ê³ ì •.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="2-payload-í˜ì´ë¡œë“œ"&gt;2. Payload (í˜ì´ë¡œë“œ)
&lt;/h3&gt;&lt;p&gt;ì´ í˜ì´ë¡œë“œëŠ” &lt;strong&gt;ì„œëª…ë˜ì–´ ìˆì§€ë§Œ ì•”í˜¸í™”ë˜ì–´ ìˆì§„ ì•Šë‹¤.&lt;/strong&gt; ì¦‰, &lt;strong&gt;ëˆ„êµ¬ë‚˜ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆë‹¤.&lt;/strong&gt;&lt;br&gt;
ë”°ë¼ì„œ ë¯¼ê° ì •ë³´(password, ì£¼ë¯¼ë²ˆí˜¸ ë“±)ëŠ” ì ˆëŒ€ í¬í•¨ì‹œí‚¤ë©´ ì•ˆ ëœë‹¤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;sub&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;user1234&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;John Doe&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;iat&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1691432621&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;exp&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1691436221&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sub&lt;/code&gt;(subject): ì£¼ì²´ ì‹ë³„ì (ex. ì‚¬ìš©ì ID).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;iat&lt;/code&gt;(issued at): ë°œê¸‰ ì‹œê°„ (Unix timestamp).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;exp&lt;/code&gt;(expiration): ë§Œë£Œ ì‹œê°„.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;role&lt;/code&gt;, &lt;code&gt;email&lt;/code&gt; ë“± ì»¤ìŠ¤í…€ í´ë ˆì„: ì¸ì¦ ë˜ëŠ” ì¸ê°€ì— í•„ìš”í•œ ì‚¬ìš©ì ì†ì„± ê°’.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="3-signature-ì„œëª…"&gt;3. Signature (ì„œëª…)
&lt;/h3&gt;&lt;p&gt;ì„œë²„ëŠ” ì´ ì„œëª…ì„ ì‚¬ìš©í•˜ì—¬ í† í°ì´ &lt;strong&gt;ìœ„ì¡°ë˜ì§€ ì•Šì•˜ìŒì„ ê²€ì¦&lt;/strong&gt;í•  ìˆ˜ ìˆë‹¤.&lt;br&gt;
ì„œëª…ì´ ë‹¤ë¥´ë©´ í˜ì´ë¡œë“œê°€ ì¡°ì‘ëœ ê²ƒì´ë‹¤. ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;HMACSHA256&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;base64UrlEncode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;.&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;base64UrlEncode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;secret&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ì•ì„œ ì¸ì½”ë”©í•œ Headerì™€ Payloadë¥¼ &lt;code&gt;.&lt;/code&gt;ìœ¼ë¡œ ì—°ê²°í•œ í›„,&lt;/li&gt;
&lt;li&gt;ë¹„ë°€ í‚¤(&lt;code&gt;secret&lt;/code&gt;)ë¥¼ ì´ìš©í•´ ì•Œê³ ë¦¬ì¦˜(&lt;code&gt;HS256&lt;/code&gt; ë“±)ìœ¼ë¡œ ì„œëª…í•œ ê°’.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="jwt-ì˜ˆì‹œ"&gt;JWT ì˜ˆì‹œ
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;eyJzdWIiOiIxMjM0NTYiLCJyb2xlIjoiYWRtaW4iLCJleHAiOjE3MDAwMDAwMDB9.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ê° ë¶€ë¶„ì„ ë””ì½”ë”©í•˜ë©´:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Header&lt;/strong&gt;:
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nt"&gt;&amp;#34;alg&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;HS256&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;&amp;#34;typ&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;JWT&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Payload&lt;/strong&gt;:
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nt"&gt;&amp;#34;sub&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;123456&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;&amp;#34;exp&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1700000000&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Signature&lt;/strong&gt;: ì„œë²„ì—ì„œ secret keyë¡œë§Œ í™•ì¸ ê°€ëŠ¥.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="jwtì˜-ì£¼ìš”-ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­"&gt;JWTì˜ ì£¼ìš” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ì„œëª…ë§Œ ì¡´ì¬í•˜ê³ , í˜ì´ë¡œë“œëŠ” ì•”í˜¸í™”ë˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ë¯¼ê° ì •ë³´ëŠ” ë„£ì§€ ë§ ê²ƒ.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë§Œë£Œ ì‹œê°„(&lt;code&gt;exp&lt;/code&gt;)ì„ ê¼­ ì„¤ì •&lt;/strong&gt;í•˜ì.
&lt;ul&gt;
&lt;li&gt;í† í° íƒˆì·¨ ì‹œ ë¬´í•œíˆ ì‚¬ìš©í•  ìˆ˜ ì—†ë„ë¡ í•˜ê¸° ìœ„í•´.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì„œë²„ëŠ” ë°˜ë“œì‹œ Signatureë¥¼ ê²€ì¦&lt;/strong&gt;í•´ì•¼ í•œë‹¤.
&lt;ul&gt;
&lt;li&gt;ì„œëª… ê²€ì¦ì„ í•˜ì§€ ì•Šìœ¼ë©´ ëˆ„êµ¬ë‚˜ Payloadë§Œ ë°”ê¿”ë„ í† í°ì´ ìœ íš¨í•´ì§„ë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;JWTëŠ” â€œì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì •ë³´ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì•ˆì „í•˜ê²Œ ì „ë‹¬í•˜ê¸° ìœ„í•œ êµ¬ì¡°í™”ëœ ë¬¸ìì—´â€ì´ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;Header&lt;/code&gt;ëŠ” í† í°ì˜ í˜•ì‹ê³¼ ì•Œê³ ë¦¬ì¦˜, &lt;code&gt;Payload&lt;/code&gt;ëŠ” ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ì •ë³´, &lt;code&gt;Signature&lt;/code&gt;ëŠ” ìœ„ì¡° ì—¬ë¶€ë¥¼ íŒë³„í•˜ëŠ” í•µì‹¬ í‚¤ì´ë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Base64 ì¸ì½”ë”©/ë””ì½”ë”©&lt;/li&gt;
&lt;li&gt;ëŒ€ì¹­/ë¹„ëŒ€ì¹­ í‚¤ ê°œë… (HMAC vs RSA)&lt;/li&gt;
&lt;li&gt;HTTP ì¸ì¦ ë°©ì‹ (Bearer Token)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://jwt.io/" target="_blank" rel="noopener"
&gt;jwt.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://datatracker.ietf.org/doc/html/rfc7519" target="_blank" rel="noopener"
&gt;RFC 7519: JSON Web Token (JWT)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html" target="_blank" rel="noopener"
&gt;Spring Securityì—ì„œ JWT ì‚¬ìš©í•˜ê¸° ê³µì‹ ê°€ì´ë“œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;OAuth 2.0ê³¼ JWTì˜ ê´€ê³„&lt;/li&gt;
&lt;li&gt;JWT vs Session ê¸°ë°˜ ì¸ì¦ ë¹„êµ í¬ìŠ¤íŒ…&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>OAuth 2.0 í•µì‹¬ êµ¬ì¡° ì´í•´í•˜ê¸°</title><link>https://blog.b9f1.com/p/2025-08-04-understanding-the-oauth-2.0-core-structure/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-08-04-understanding-the-oauth-2.0-core-structure/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;ë°±ì—”ë“œ ì¸ì¦ ì¸í”„ë¼ë¥¼ ì„¤ê³„í•˜ë©° OAuth 2.0ì´ í‘œì¤€ì²˜ëŸ¼ ìë¦¬ ì¡ì•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì²´ê°í•˜ê³  ìˆë‹¤.&lt;/p&gt;
&lt;p&gt;íŠ¹íˆ ì†Œì…œ ë¡œê·¸ì¸ì´ë‚˜ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ ê¶Œí•œ ìœ„ì„ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ì„œ â€œAuthorization Code Grantâ€ ë°©ì‹ì˜ êµ¬ì¡°ì™€ íë¦„ì„ ì™„ë²½íˆ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  íŒë‹¨í•´ ì´ ê¸€ì„ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” OAuth 2.0ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì™€ í•¨ê»˜ Authorization Code Grantê°€ ì–´ë–¤ íë¦„ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ ì‹¤ì „ ì¤‘ì‹¬ìœ¼ë¡œ ì•Œì•„ë³¸ë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="oauth-20ì˜-ì£¼ìš”-ì»´í¬ë„ŒíŠ¸"&gt;OAuth 2.0ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ì»´í¬ë„ŒíŠ¸&lt;/th&gt;
&lt;th&gt;ì„¤ëª…&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Resource Owner&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë¦¬ì†ŒìŠ¤(ì •ë³´)ì˜ ì‹¤ì œ ì†Œìœ ì. ë³´í†µ ì‚¬ìš©ì(User)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Client&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ì„ ìš”ì²­í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ (ex. ìš°ë¦¬ê°€ ê°œë°œí•˜ëŠ” ì›¹ì•±)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Authorization Server&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì¸ì¦ì„ ë‹´ë‹¹í•˜ë©°, Access Tokenì„ ë°œê¸‰í•˜ëŠ” ì„œë²„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Resource Server&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ëŠ” API ì„œë²„ (Authorization Serverì™€ ë¶„ë¦¬ë  ìˆ˜ë„ ìˆìŒ)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="authorization-code-grant-íë¦„"&gt;Authorization Code Grant íë¦„
&lt;/h3&gt;&lt;p&gt;ì´ ë°©ì‹ì€ &lt;strong&gt;ë³´ì•ˆì„±ê³¼ ìœ ì—°ì„±&lt;/strong&gt;ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ì›¹ ì•±ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ëœë‹¤.&lt;/p&gt;
&lt;div class="mermaid-container zoomable"&gt;
&lt;pre class="mermaid"&gt;
sequenceDiagram
participant User
participant Client (ì›¹ì•±)
participant AuthorizationServer
participant ResourceServer
User-&gt;&gt;Client: ë¡œê·¸ì¸ ìš”ì²­
Client-&gt;&gt;AuthorizationServer: ì¸ì¦ ìš”ì²­ (ì‚¬ìš©ì ë¸Œë¼ìš°ì €ë¥¼ ë¦¬ë””ë ‰ì…˜)
AuthorizationServer-&gt;&gt;User: ë¡œê·¸ì¸ + ê¶Œí•œ ìš”ì²­
User-&gt;&gt;AuthorizationServer: ë¡œê·¸ì¸ &amp; ìŠ¹ì¸
AuthorizationServer-&gt;&gt;Client: Authorization Code ì „ë‹¬ (ë¦¬ë””ë ‰ì…˜ URI)
Client-&gt;&gt;AuthorizationServer: Authorization Code + Client Secretë¡œ Access Token ìš”ì²­
AuthorizationServer-&gt;&gt;Client: Access Token + (ì„ íƒ) Refresh Token ì „ë‹¬
Client-&gt;&gt;ResourceServer: Access Tokenìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ ìš”ì²­
ResourceServer-&gt;&gt;Client: ë¦¬ì†ŒìŠ¤ ì‘ë‹µ
&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id="íë¦„-ìš”ì•½"&gt;íë¦„ ìš”ì•½
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ì¸ì¦ ìš”ì²­:&lt;/strong&gt; Clientê°€ Authorization Serverì— ì¸ì¦ ìš”ì²­ URLë¡œ ë¦¬ë””ë ‰íŠ¸.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì‚¬ìš©ì ìŠ¹ì¸:&lt;/strong&gt; ì‚¬ìš©ìëŠ” ë¡œê·¸ì¸ í›„ ê¶Œí•œ ìŠ¹ì¸.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì½”ë“œ ìˆ˜ì‹ :&lt;/strong&gt; Authorization ServerëŠ” Redirect URIì— &lt;code&gt;Authorization Code&lt;/code&gt;ë¥¼ í¬í•¨í•˜ì—¬ ë¦¬ë””ë ‰íŠ¸.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;í† í° ìš”ì²­:&lt;/strong&gt; ClientëŠ” ë°›ì€ ì½”ë“œë¥¼ Authorization Serverì— ì „ì†¡í•˜ë©°, Access Token ìš”ì²­.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;í† í° ìˆ˜ì‹ :&lt;/strong&gt; Authorization ServerëŠ” Access Tokenì„ ì‘ë‹µ.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;API ìš”ì²­:&lt;/strong&gt; ClientëŠ” ë°›ì€ Access Tokenì„ ì‚¬ìš©í•´ Resource Serverì— ìš”ì²­.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë°ì´í„° ìˆ˜ì‹ :&lt;/strong&gt; ìœ íš¨í•œ í† í°ì´ë©´ ë¦¬ì†ŒìŠ¤ë¥¼ ì‘ë‹µ.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="refresh-tokenì€-ì™œ-í•„ìš”í• ê¹Œ"&gt;Refresh Tokenì€ ì™œ í•„ìš”í• ê¹Œ?
&lt;/h4&gt;&lt;p&gt;Access Tokenì€ ì¼ë°˜ì ìœ¼ë¡œ &lt;strong&gt;ì§§ì€ ìœ íš¨ì‹œê°„(ì˜ˆ: 1ì‹œê°„)&lt;/strong&gt; ì„ ê°€ì§„ë‹¤.
ì´ë•Œ Refresh Tokenì´ ìˆìœ¼ë©´ ì¬ë¡œê·¸ì¸ ì—†ì´ ìƒˆë¡œìš´ Access Tokenì„ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆì–´ UX ê°œì„ ì— í° ì—­í• ì„ í•œë‹¤.&lt;/p&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;p&gt;OAuth 2.0ì˜ í•µì‹¬ì€ &lt;strong&gt;ì±…ì„ ë¶„ë¦¬ì™€ ìœ„ì„&lt;/strong&gt;ì´ë©°, Authorization Code GrantëŠ” ê°€ì¥ ì•ˆì „í•˜ê³  ì‹¤ì „ì ì¸ ì¸ì¦ íë¦„ì´ë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;HTTP í”„ë¡œí† ì½œì˜ ê¸°ë³¸ íë¦„&lt;/li&gt;
&lt;li&gt;RESTful APIì˜ ì¸ì¦/ì¸ê°€ ê°œë…&lt;/li&gt;
&lt;li&gt;HTTPS í†µì‹  ë°©ì‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://datatracker.ietf.org/doc/html/rfc6749" target="_blank" rel="noopener"
&gt;RFC 6749: The OAuth 2.0 Authorization Framework&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html" target="_blank" rel="noopener"
&gt;Spring Security OAuth2 ê³µì‹ ë¬¸ì„œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://www.jwt.io/" target="_blank" rel="noopener"
&gt;JWT.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;í‚¤ì›Œë“œ: &lt;code&gt;PKCE&lt;/code&gt;, &lt;code&gt;Client Credentials&lt;/code&gt;, &lt;code&gt;Implicit Grant&lt;/code&gt;, &lt;code&gt;OpenID Connect&lt;/code&gt;, &lt;code&gt;Refresh Token Rotation&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>ì„¸ì…˜ vs í† í° ì¸ì¦ ì°¨ì´</title><link>https://blog.b9f1.com/p/2025-08-04-session-vs-token-authentication-difference/</link><pubDate>Mon, 04 Aug 2025 00:00:00 +0900</pubDate><guid>https://blog.b9f1.com/p/2025-08-04-session-vs-token-authentication-difference/</guid><description>&lt;h2 id="ê°œìš”"&gt;ğŸ“Œê°œìš”
&lt;/h2&gt;&lt;p&gt;ë°±ì—”ë“œ ê°œë°œìê°€ ê¼­ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•  ì¸ì¦ì˜ ë‘ ì¶•, &lt;strong&gt;ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦&lt;/strong&gt;ê³¼ &lt;strong&gt;í† í° ê¸°ë°˜ ì¸ì¦&lt;/strong&gt;ì˜ êµ¬ì¡°ì  ì°¨ì´ì ê³¼ ê°ê°ì˜ &lt;strong&gt;ë³´ì•ˆìƒ ê³ ë ¤ì‚¬í•­&lt;/strong&gt;ì— ëŒ€í•´ ë‹¤ë¤„ë³´ì.&lt;/p&gt;
&lt;p&gt;íŠ¹íˆ REST API ì„¤ê³„, OAuth2 ë„ì…, JWT ì‚¬ìš© ì‹œ ë§ë‹¥ëœ¨ë¦¬ëŠ” ì—¬ëŸ¬ ê²°ì • í¬ì¸íŠ¸ì—ì„œ ì–´ë–¤ ë°©ì‹ì„ ì™œ ì„ íƒí•´ì•¼ í•˜ëŠ”ì§€, ì‹¤ì „ ê´€ì ì—ì„œ ì§šì–´ë³¸ë‹¤.&lt;/p&gt;
&lt;h2 id="ë‚´ìš©"&gt;ğŸ“Œë‚´ìš©
&lt;/h2&gt;&lt;h3 id="ì„¸ì…˜-ê¸°ë°˜-ì¸ì¦-session-based-authentication"&gt;ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ (Session-based Authentication)
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ë™ì‘ ë°©ì‹&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„œë²„ëŠ” ì‚¬ìš©ì ì •ë³´ë¥¼ ì €ì¥í•œ &lt;strong&gt;ì„¸ì…˜ ID&lt;/strong&gt;ë¥¼ ìƒì„±í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì— &lt;strong&gt;ì¿ í‚¤ë¡œ ì „ë‹¬&lt;/strong&gt;í•œë‹¤.&lt;/li&gt;
&lt;li&gt;ì´í›„ ëª¨ë“  ìš”ì²­ì—ëŠ” ì¿ í‚¤ê°€ ìë™ìœ¼ë¡œ ì²¨ë¶€ë˜ì–´ ì„¸ì…˜ IDë¥¼ í†µí•´ ì¸ì¦ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;íŠ¹ì§•&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ì„œë²„ê°€ ì„¸ì…˜ ìƒíƒœë¥¼ &lt;strong&gt;ì§ì ‘ ì €ì¥&lt;/strong&gt; (ë©”ëª¨ë¦¬, Redis ë“±)&lt;/li&gt;
&lt;li&gt;ë¸Œë¼ìš°ì € ì¹œí™”ì  (ìë™ ì¿ í‚¤ ì²˜ë¦¬)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë³´ì•ˆ ê³ ë ¤ì‚¬í•­&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CSRF ê³µê²©&lt;/strong&gt;ì— ì·¨ì•½: ì¿ í‚¤ê°€ ìë™ ì „ì†¡ë˜ê¸° ë•Œë¬¸&lt;/li&gt;
&lt;li&gt;ì„¸ì…˜ íƒˆì·¨(Session Hijacking) ëŒ€ë¹„ í•„ìš”&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SameSite, Secure, HttpOnly&lt;/strong&gt; ì¿ í‚¤ ì˜µì…˜ ì‚¬ìš© í•„ìˆ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì í•©í•œ ê²½ìš°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ë¸Œë¼ìš°ì € ê¸°ë°˜ì˜ ì „í†µì ì¸ ì›¹ ì„œë¹„ìŠ¤&lt;/li&gt;
&lt;li&gt;ë‚´ë¶€ë§ ë˜ëŠ” í†µì œëœ í™˜ê²½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="í† í°-ê¸°ë°˜-ì¸ì¦-token-based-authentication"&gt;í† í° ê¸°ë°˜ ì¸ì¦ (Token-based Authentication)
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ë™ì‘ ë°©ì‹&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„œë²„ëŠ” &lt;strong&gt;JWT(JSON Web Token)&lt;/strong&gt; ë˜ëŠ” ì»¤ìŠ¤í…€ í† í°ì„ ë°œê¸‰í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ë¥¼ &lt;strong&gt;ë¡œì»¬ ì €ì¥ì†Œì— ì €ì¥&lt;/strong&gt;í•œë‹¤.&lt;/li&gt;
&lt;li&gt;ì´í›„ ìš”ì²­ ì‹œ Authorization í—¤ë”ë¥¼ í†µí•´ &lt;strong&gt;ì§ì ‘ ì²¨ë¶€&lt;/strong&gt;í•´ì„œ ì¸ì¦í•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;íŠ¹ì§•&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ì„œë²„ ë¬´ìƒíƒœ(stateless)&lt;/strong&gt; ì¸ì¦ ë°©ì‹ (ì„¸ì…˜ ì €ì¥ ë¶ˆí•„ìš”)&lt;/li&gt;
&lt;li&gt;í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ë¶„ë¦¬ëœ êµ¬ì¡°ì— ìœ ë¦¬&lt;/li&gt;
&lt;li&gt;JWTëŠ” &lt;strong&gt;ìì²´ì ìœ¼ë¡œ ì„œëª…ë˜ì–´ ìœ„ë³€ì¡° ê²€ì¦&lt;/strong&gt; ê°€ëŠ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë³´ì•ˆ ê³ ë ¤ì‚¬í•­&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;XSSì— ì·¨ì•½&lt;/strong&gt;: í† í°ì„ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ ì‹œ ë…¸ì¶œ ê°€ëŠ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;í† í° íƒˆì·¨ â†’ ì¥ê¸° ê¶Œí•œ ë…¸ì¶œ&lt;/strong&gt; ìš°ë ¤&lt;/li&gt;
&lt;li&gt;ë§Œë£Œì‹œê°„, Refresh Token ì „ëµ, &lt;strong&gt;Token Rotation&lt;/strong&gt; ë„ì… í•„ìš”&lt;/li&gt;
&lt;li&gt;HTTPS í•„ìˆ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì í•©í•œ ê²½ìš°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ëª¨ë°”ì¼ ì•±, SPA(Single Page App)&lt;/li&gt;
&lt;li&gt;ë¶„ì‚° ì‹œìŠ¤í…œ, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="ì£¼ìš”-ì°¨ì´-ì •ë¦¬"&gt;ì£¼ìš” ì°¨ì´ ì •ë¦¬
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;í•­ëª©&lt;/th&gt;
&lt;th&gt;ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦&lt;/th&gt;
&lt;th&gt;í† í° ê¸°ë°˜ ì¸ì¦&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ì„œë²„ ìƒíƒœ&lt;/td&gt;
&lt;td&gt;ìƒíƒœ ìœ ì§€ (Stateful)&lt;/td&gt;
&lt;td&gt;ìƒíƒœ ì—†ìŒ (Stateless)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ì €ì¥ì†Œ&lt;/td&gt;
&lt;td&gt;ì„œë²„ ë©”ëª¨ë¦¬/DB/Redis&lt;/td&gt;
&lt;td&gt;í´ë¼ì´ì–¸íŠ¸ ë¡œì»¬ ì €ì¥ì†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ì¸ì¦ ì „ë‹¬&lt;/td&gt;
&lt;td&gt;ì¿ í‚¤ (ìë™ ì „ì†¡)&lt;/td&gt;
&lt;td&gt;HTTP Header (ì§ì ‘ ì „ì†¡)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ì·¨ì•½ì &lt;/td&gt;
&lt;td&gt;CSRF, ì„¸ì…˜ íƒˆì·¨&lt;/td&gt;
&lt;td&gt;XSS, í† í° íƒˆì·¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ì‚¬ìš© ì‚¬ë¡€&lt;/td&gt;
&lt;td&gt;ì›¹ ì‚¬ì´íŠ¸&lt;/td&gt;
&lt;td&gt;ëª¨ë°”ì¼, API ì„œë²„&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="ê²°ë¡ "&gt;ğŸ¯ê²°ë¡ 
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;ì¸ì¦ ë°©ì‹ì€ ì„œë¹„ìŠ¤ êµ¬ì¡°ì™€ ìœ„í˜‘ ëª¨ë¸ì— ë”°ë¼ ì„ íƒí•˜ì. ë§ŒëŠ¥ì€ ì—†ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;í´ë¼ì´ì–¸íŠ¸ê°€ ë¸Œë¼ìš°ì € ì¤‘ì‹¬ì´ê³  ë³´ì•ˆ ì œì–´ê°€ ê°€ëŠ¥í•œ ê²½ìš°ì—” &lt;strong&gt;ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦&lt;/strong&gt;ì´, REST APIë‚˜ ëª¨ë°”ì¼ ì¤‘ì‹¬ì´ë¼ë©´ &lt;strong&gt;í† í° ê¸°ë°˜ ì¸ì¦&lt;/strong&gt;ì´ ì ì ˆí•˜ë‹¤.&lt;/p&gt;
&lt;p&gt;ë‹¨, ì–´ë–¤ ë°©ì‹ì„ ì“°ë“  ë³´ì•ˆì€ ì¶”ê°€ ì„¤ì •ê³¼ ë°©ì–´ ë¡œì§ ì—†ì´ëŠ” ë¬´ë„ˆì§ˆ ìˆ˜ ìˆë‹¤.&lt;/p&gt;
&lt;h2 id="endnote"&gt;âš™ï¸EndNote
&lt;/h2&gt;&lt;h3 id="ì‚¬ì „-ì§€ì‹"&gt;ì‚¬ì „ ì§€ì‹
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;HTTP ì¿ í‚¤/í—¤ë”&lt;/li&gt;
&lt;li&gt;JWT êµ¬ì¡° (Header.Payload.Signature)&lt;/li&gt;
&lt;li&gt;CSRF, XSS ê°œë…&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ë”-ì•Œì•„ë³´ê¸°"&gt;ë” ì•Œì•„ë³´ê¸°
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html" target="_blank" rel="noopener"
&gt;OWASP ì¸ì¦ ê´€ë ¨ ê°€ì´ë“œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://www.jwt.io/introduction" target="_blank" rel="noopener"
&gt;JWT ê³µì‹ ë¬¸ì„œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://datatracker.ietf.org/doc/html/rfc7519" target="_blank" rel="noopener"
&gt;RFC 7519: JSON Web Token (JWT)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://oauth.net/2/" target="_blank" rel="noopener"
&gt;OAuth 2.0 ê°œë… ì •ë¦¬ ë° íë¦„&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>